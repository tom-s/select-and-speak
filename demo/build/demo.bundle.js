!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=30)}([function(e,t,n){var r=n(14),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();e.exports=i},function(e,t,n){var r=n(9),o=n(33),i=n(34),a="[object Null]",s="[object Undefined]",c=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:a:c&&c in Object(e)?o(e):i(e)}},function(e,t,n){var r=n(50),o=n(53);e.exports=function(e,t){var n=o(e,t);return r(n)?n:void 0}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(2)(Object,"create");e.exports=r},function(e,t,n){var r=n(78);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(83);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(61);e.exports=function(e,t,n){var o=null==e?void 0:r(e,t);return void 0===o?n:o}},function(e,t,n){var r=n(0).Symbol;e.exports=r},function(e,t,n){var r=n(1),o=n(4),i="[object Symbol]";e.exports=function(e){return"symbol"==typeof e||o(e)&&r(e)==i}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(13),o=n(35),i=n(37),a=n(41),s=n(42),c=n(18),u=/^\s+|\s+$/g;e.exports=function(e,t,n){if((e=c(e))&&(n||void 0===t))return e.replace(u,"");if(!e||!(t=r(t)))return e;var f=s(e),l=s(t),d=a(f,l),h=i(f,l)+1;return o(f,d,h).join("")}},function(e,t,n){var r=n(9),o=n(15),i=n(3),a=n(10),s=1/0,c=r?r.prototype:void 0,u=c?c.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return u?u.call(t):"";var n=t+"";return"0"==n&&1/t==-s?"-0":n}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(32))},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o}},function(e,t,n){var r=n(38),o=n(39),i=n(40);e.exports=function(e,t,n){return t==t?i(e,t,n):r(e,o,n)}},function(e,t){var n=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");e.exports=function(e){return n.test(e)}},function(e,t,n){var r=n(13);e.exports=function(e){return null==e?"":r(e)}},function(e,t,n){var r=n(46),o=n(47),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return o(e);var t=[];for(var n in Object(e))i.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){var r=n(49),o=n(23),i=n(54),a=n(55),s=n(56),c=n(1),u=n(22),f=u(r),l=u(o),d=u(i),h=u(a),p=u(s),g=c;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=g(new o)||i&&"[object Promise]"!=g(i.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var t=c(e),n="[object Object]"==t?e.constructor:void 0,r=n?u(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=g},function(e,t,n){var r=n(1),o=n(11),i="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";e.exports=function(e){if(!o(e))return!1;var t=r(e);return t==a||t==s||t==i||t==c}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,n){var r=n(2)(n(0),"Map");e.exports=r},function(e,t,n){var r=n(21),o=n(25);e.exports=function(e){return null!=e&&o(e.length)&&!r(e)}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(1),o=n(3),i=n(4),a="[object String]";e.exports=function(e){return"string"==typeof e||!o(e)&&i(e)&&r(e)==a}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){var r,o,i;o=[n(31)],void 0===(i="function"==typeof(r=function(e){return e.createModule("TextRange",["WrappedSelection"],function(e,t){var n="undefined",r="character",o="word",i=e.dom,a=e.util,s=a.extend,c=a.createOptions,u=i.getBody,f=/^[ \t\f\r\n]+$/,l=/^[ \t\f\r]+$/,d=/^[\t-\r \u0085\u00A0\u1680\u180E\u2000-\u200B\u2028\u2029\u202F\u205F\u3000]+$/,h=/^[\t \u00A0\u1680\u180E\u2000-\u200B\u202F\u205F\u3000]+$/,p="en",g=e.Selection.isDirectionBackward,v=!1,m=!1;function y(e,t){for(var n=e.slice(t.start,t.end),r={isWord:t.isWord,chars:n,toString:function(){return n.join("")}},o=0,i=n.length;o<i;++o)n[o].token=r;return r}function R(e,t,n){for(var r,o=n(e,t),i=[],a=0;r=o[a++];)i.push(y(e,r));return i}!function(){var t=i.createTestElement(document,"<p>1 </p><p></p>",!0),n=t.firstChild,r=e.getSelection();r.collapse(n.lastChild,2),r.setStart(n.firstChild,0),t.innerHTML="1 <br />",r.collapse(t,2),r.setStart(t.firstChild,0),v=1==(""+r).length,t.innerHTML="1 <p>1</p>",r.collapse(t,2),r.setStart(t.firstChild,0),m=1==(""+r).length,i.removeNode(t),r.removeAllRanges()}();var C={includeBlockContentTrailingSpace:!0,includeSpaceBeforeBr:!0,includeSpaceBeforeBlock:!0,includePreLineTrailingSpace:!0,ignoreCharacters:""},S={includeBlockContentTrailingSpace:!1,includeSpaceBeforeBr:!v,includeSpaceBeforeBlock:!m,includePreLineTrailingSpace:!0},E={en:{wordRegex:/[a-z0-9]+('[a-z0-9]+)*/gi,includeTrailingSpace:!1,tokenizer:function(e,t){var n,r=e.join(""),o=[];function i(e,t,n){o.push({start:e,end:t,isWord:n})}for(var a,s,c=0;n=t.wordRegex.exec(r);){if(s=(a=n.index)+n[0].length,a>c&&i(c,a,!1),t.includeTrailingSpace)for(;h.test(e[s]);)++s;i(a,s,!0),c=s}return c<e.length&&i(c,e.length,!1),o}}},N={caseSensitive:!1,withinRange:null,wholeWordsOnly:!1,wrap:!1,direction:"forward",wordOptions:null,characterOptions:null},w={wordOptions:null,characterOptions:null},b={wordOptions:null,characterOptions:null,trim:!1,trimStart:!0,trimEnd:!0},x={wordOptions:null,characterOptions:null,direction:"forward"};function O(e,t){var n=c(e,t);return t.hasOwnProperty("wordOptions")&&(n.wordOptions=function(e){var t,n;return e?(t=e.language||p,s(n={},E[t]||E[p]),s(n,e),n):E[p]}(n.wordOptions)),t.hasOwnProperty("characterOptions")&&(n.characterOptions=c(n.characterOptions,C)),n}var _,T=i.getComputedStyleProperty;!function(){var e=document.createElement("table"),t=u(document);t.appendChild(e),_="block"==T(e,"display"),t.removeChild(e)}();var A={table:"table",caption:"table-caption",colgroup:"table-column-group",col:"table-column",thead:"table-header-group",tbody:"table-row-group",tfoot:"table-footer-group",tr:"table-row",td:"table-cell",th:"table-cell"};function P(e,t){var n=T(e,"display",t),r=e.tagName.toLowerCase();return"block"==n&&_&&A.hasOwnProperty(r)?A[r]:n}function D(e){for(var t=function(e){return function(e){for(var t=[];e.parentNode;)t.unshift(e.parentNode),e=e.parentNode;return t}(e).concat([e])}(e),n=0,r=t.length;n<r;++n)if(1==t[n].nodeType&&"none"==P(t[n]))return!0;return!1}function k(e,t){return!t&&e.hasChildNodes()?e.firstChild:function(e){for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}(e)}function B(e){var t=e.previousSibling;if(t){for(e=t;e.hasChildNodes();)e=e.lastChild;return e}var n=e.parentNode;return n&&1==n.nodeType?n:null}function I(e){if(!e||3!=e.nodeType)return!1;var t=e.data;if(""===t)return!0;var n=e.parentNode;if(!n||1!=n.nodeType)return!1;var r=T(e.parentNode,"whiteSpace");return/^[\t\n\r ]+$/.test(t)&&/^(normal|nowrap)$/.test(r)||/^[\t\r ]+$/.test(t)&&"pre-line"==r}function L(e){return""===e.data||!!I(e)&&(!e.parentNode||!!D(e))}function j(e){var t=e.nodeType;return 7==t||8==t||D(e)||/^(script|style)$/i.test(e.nodeName)||function(e){var t;return 3==e.nodeType&&(t=e.parentNode)&&"hidden"==T(t,"visibility")}(e)||L(e)}function M(e,t){var n=e.nodeType;return 7==n||8==n||1==n&&"none"==P(e,t)}function W(){this.store={}}function H(e,t,n){return function(r){var o=this.cache;if(o.hasOwnProperty(e))return o[e];var i=t.call(this,n?this[n]:this,r);return o[e]=i,i}}function F(e,t){this.node=e,this.session=t,this.cache=new W,this.positions=new W}W.prototype={get:function(e){return this.store.hasOwnProperty(e)?this.store[e]:null},set:function(e,t){return this.store[e]=t}};var z={getPosition:function(e){var t=this.positions;return t.get(e)||t.set(e,new V(this,e))},toString:function(){return"[NodeWrapper("+i.inspectNode(this.node)+")]"}};function V(e,t){this.offset=t,this.nodeWrapper=e,this.node=e.node,this.session=e.session,this.cache=new W}F.prototype=z,s(z,{isCharacterDataNode:H("isCharacterDataNode",i.isCharacterDataNode,"node"),getNodeIndex:H("nodeIndex",i.getNodeIndex,"node"),getLength:H("nodeLength",i.getNodeLength,"node"),containsPositions:H("containsPositions",function(e){return i.isCharacterDataNode(e)||!/^(area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param)$/i.test(e.nodeName)},"node"),isWhitespace:H("isWhitespace",I,"node"),isCollapsedWhitespace:H("isCollapsedWhitespace",L,"node"),getComputedDisplay:H("computedDisplay",P,"node"),isCollapsed:H("collapsed",j,"node"),isIgnored:H("ignored",M,"node"),next:H("nextPos",k,"node"),previous:H("previous",B,"node"),getTextNodeInfo:H("textNodeInfo",function(e){var t=null,n=!1,r=T(e.parentNode,"whiteSpace"),o="pre-line"==r;return o?(t=l,n=!0):"normal"!=r&&"nowrap"!=r||(t=f,n=!0),{node:e,text:e.data,spaceRegex:t,collapseSpaces:n,preLine:o}},"node"),hasInnerText:H("hasInnerText",function(e,t){for(var n=this.session,r=n.getPosition(e.parentNode,this.getNodeIndex()+1),o=n.getPosition(e,0),i=t?r:o,a=t?o:r;i!==a;){if(i.prepopulateChar(),i.isDefinitelyNonEmpty())return!0;i=t?i.previousVisible():i.nextVisible()}return!1},"node"),isRenderedBlock:H("isRenderedBlock",function(e){for(var t=e.getElementsByTagName("br"),n=0,r=t.length;n<r;++n)if(!j(t[n]))return!0;return this.hasInnerText()},"node"),getTrailingSpace:H("trailingSpace",function(e){if("br"==e.tagName.toLowerCase())return"";switch(this.getComputedDisplay()){case"inline":for(var t=e.lastChild;t;){if(!M(t))return 1==t.nodeType?this.session.getNodeWrapper(t).getTrailingSpace():"";t=t.previousSibling}break;case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":break;case"table-cell":return"\t";default:return this.isRenderedBlock(!0)?"\n":""}return""},"node"),getLeadingSpace:H("leadingSpace",function(e){switch(this.getComputedDisplay()){case"inline":case"inline-block":case"inline-table":case"none":case"table-column":case"table-column-group":case"table-cell":break;default:return this.isRenderedBlock(!1)?"\n":""}return""},"node")});var U={character:"",characterType:"EMPTY",isBr:!1,prepopulateChar:function(){var e=this;if(!e.prepopulatedChar){var t=e.node,n=e.offset,r="",o="EMPTY",i=!1;if(n>0)if(3==t.nodeType){var a=t.data,s=a.charAt(n-1),c=e.nodeWrapper.getTextNodeInfo(),u=c.spaceRegex;c.collapseSpaces?u.test(s)?n>1&&u.test(a.charAt(n-2))||(c.preLine&&"\n"===a.charAt(n)?(r=" ",o="PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"):(r=" ",o="COLLAPSIBLE_SPACE")):(r=s,o="NON_SPACE",i=!0):(r=s,o="UNCOLLAPSIBLE_SPACE",i=!0)}else{var f=t.childNodes[n-1];if(f&&1==f.nodeType&&!j(f)&&("br"==f.tagName.toLowerCase()?(r="\n",e.isBr=!0,o="COLLAPSIBLE_SPACE",i=!1):e.checkForTrailingSpace=!0),!r){var l=t.childNodes[n];l&&1==l.nodeType&&!j(l)&&(e.checkForLeadingSpace=!0)}}e.prepopulatedChar=!0,e.character=r,e.characterType=o,e.isCharInvariant=i}},isDefinitelyNonEmpty:function(){var e=this.characterType;return"NON_SPACE"==e||"UNCOLLAPSIBLE_SPACE"==e},resolveLeadingAndTrailingSpaces:function(){if(this.prepopulatedChar||this.prepopulateChar(),this.checkForTrailingSpace){var e=this.session.getNodeWrapper(this.node.childNodes[this.offset-1]).getTrailingSpace();e&&(this.isTrailingSpace=!0,this.character=e,this.characterType="COLLAPSIBLE_SPACE"),this.checkForTrailingSpace=!1}if(this.checkForLeadingSpace){var t=this.session.getNodeWrapper(this.node.childNodes[this.offset]).getLeadingSpace();t&&(this.isLeadingSpace=!0,this.character=t,this.characterType="COLLAPSIBLE_SPACE"),this.checkForLeadingSpace=!1}},getPrecedingUncollapsedPosition:function(e){for(var t=this;t=t.previousVisible();)if(""!==t.getCharacter(e))return t;return null},getCharacter:function(e){this.resolveLeadingAndTrailingSpaces();var t=this.character,n=function(e){var t=e||"",n="string"==typeof t?t.split(""):t;return n.sort(function(e,t){return e.charCodeAt(0)-t.charCodeAt(0)}),n.join("").replace(/(.)\1+/g,"$1")}(e.ignoreCharacters),r=""!==t&&n.indexOf(t)>-1;if(this.isCharInvariant)return r?"":t;var o=["character",e.includeSpaceBeforeBr,e.includeBlockContentTrailingSpace,e.includePreLineTrailingSpace,n].join("_"),i=this.cache.get(o);if(null!==i)return i;var a,s,c="",u=!1,f=this;function l(){return u||(s=f.getPrecedingUncollapsedPosition(e),u=!0),s}return"COLLAPSIBLE_SPACE"==this.characterType&&("INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"==this.type?c="\n":" "==t&&(!l()||s.isTrailingSpace||"\n"==s.character||" "==s.character&&"COLLAPSIBLE_SPACE"==s.characterType)||("\n"==t&&this.isLeadingSpace?l()&&"\n"!=s.character&&(c="\n"):(a=this.nextUncollapsed())&&(a.isBr?this.type="TRAILING_SPACE_BEFORE_BR":a.isTrailingSpace&&"\n"==a.character?this.type="TRAILING_SPACE_IN_BLOCK":a.isLeadingSpace&&"\n"==a.character&&(this.type="TRAILING_SPACE_BEFORE_BLOCK"),"\n"==a.character?("TRAILING_SPACE_BEFORE_BR"!=this.type||e.includeSpaceBeforeBr)&&("TRAILING_SPACE_BEFORE_BLOCK"!=this.type||e.includeSpaceBeforeBlock)&&("TRAILING_SPACE_IN_BLOCK"==this.type&&a.isTrailingSpace&&!e.includeBlockContentTrailingSpace||("PRE_LINE_TRAILING_SPACE_BEFORE_LINE_BREAK"!=this.type||"NON_SPACE"!=a.type||e.includePreLineTrailingSpace)&&("\n"==t?a.isTrailingSpace?this.isTrailingSpace||this.isBr&&(a.type="TRAILING_LINE_BREAK_AFTER_BR",l()&&s.isLeadingSpace&&!s.isTrailingSpace&&"\n"==s.character?a.character="":a.type="INCLUDED_TRAILING_LINE_BREAK_AFTER_BR"):c="\n":" "==t&&(c=" "))):c=t))),n.indexOf(c)>-1&&(c=""),this.cache.set(o,c),c},equals:function(e){return!!e&&this.node===e.node&&this.offset===e.offset},inspect:function(){return"[Position("+i.inspectNode(this.node)+":"+this.offset+")]"},toString:function(){return this.character}};V.prototype=U,s(U,{next:H("nextPos",function(e){var t,n,r,o=e.nodeWrapper,i=e.node,a=e.offset,s=o.session;return i?(a==o.getLength()?n=(t=i.parentNode)?o.getNodeIndex()+1:0:o.isCharacterDataNode()?(t=i,n=a+1):(r=i.childNodes[a],s.getNodeWrapper(r).containsPositions()?(t=r,n=0):(t=i,n=a+1)),t?s.getPosition(t,n):null):null}),previous:H("previous",function(e){var t,n,r,o=e.nodeWrapper,a=e.node,s=e.offset,c=o.session;return 0==s?n=(t=a.parentNode)?o.getNodeIndex():0:o.isCharacterDataNode()?(t=a,n=s-1):(r=a.childNodes[s-1],c.getNodeWrapper(r).containsPositions()?(t=r,n=i.getNodeLength(r)):(t=a,n=s-1)),t?c.getPosition(t,n):null}),nextVisible:H("nextVisible",function(e){var t=e.next();if(!t)return null;var n=t.nodeWrapper,r=t.node,o=t;return n.isCollapsed()&&(o=n.session.getPosition(r.parentNode,n.getNodeIndex()+1)),o}),nextUncollapsed:H("nextUncollapsed",function(e){for(var t=e;t=t.nextVisible();)if(t.resolveLeadingAndTrailingSpaces(),""!==t.character)return t;return null}),previousVisible:H("previousVisible",function(e){var t=e.previous();if(!t)return null;var n=t.nodeWrapper,r=t.node,o=t;return n.isCollapsed()&&(o=n.session.getPosition(r.parentNode,n.getNodeIndex())),o})});var $=null,q=function(){function e(e){var t=new W;return{get:function(n){var r=t.get(n[e]);if(r)for(var o,i=0;o=r[i++];)if(o.node===n)return o;return null},set:function(n){var r=n.node[e];(t.get(r)||t.set(r,[])).push(n)}}}var t=a.isHostProperty(document.documentElement,"uniqueID");function n(){this.initCaches()}return n.prototype={initCaches:function(){this.elementCache=t?function(){var e=new W;return{get:function(t){return e.get(t.uniqueID)},set:function(t){e.set(t.node.uniqueID,t)}}}():e("tagName"),this.textNodeCache=e("data"),this.otherNodeCache=e("nodeName")},getNodeWrapper:function(e){var t;switch(e.nodeType){case 1:t=this.elementCache;break;case 3:t=this.textNodeCache;break;default:t=this.otherNodeCache}var n=t.get(e);return n||(n=new F(e,this),t.set(n)),n},getPosition:function(e,t){return this.getNodeWrapper(e).getPosition(t)},getRangeBoundaryPosition:function(e,t){var n=t?"start":"end";return this.getPosition(e[n+"Container"],e[n+"Offset"])},detach:function(){this.elementCache=this.textNodeCache=this.otherNodeCache=null}},n}();function G(){return $||(Y(),$=new q)}function Y(){$&&$.detach(),$=null}function K(e,n,r,o){r&&(n?j(r.node)&&(r=e.previousVisible()):j(r.node)&&(r=r.nextVisible()));var i=e,a=!1;function s(){var e=null;return n?(e=i,a||(i=i.previousVisible(),a=!i||r&&i.equals(r))):a||(e=i=i.nextVisible(),a=!i||r&&i.equals(r)),a&&(i=null),e}var c,u=!1;return{next:function(){if(u)return u=!1,c;for(var e;e=s();)if(e.getCharacter(o))return c=e,e;return null},rewind:function(){if(!c)throw t.createError("createCharacterIterator: cannot rewind. Only one position can be rewound.");u=!0},dispose:function(){e=r=null}}}s(i,{nextNode:k,previousNode:B});var Q=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)if(e[n]===t)return n;return-1};function X(e,t,n){var r=K(e,!1,null,t),o=K(e,!0,null,t),i=n.tokenizer;function a(e){for(var t,n,i=[],a=e?r:o,s=!1,c=!1;t=a.next();){if(n=t.character,d.test(n))c&&(c=!1,s=!0);else{if(s){a.rewind();break}c=!0}i.push(t)}return i}var s=a(!0),c=a(!1).reverse(),u=R(c.concat(s),n,i),f=s.length?u.slice(Q(u,s[0].token)):[],l=c.length?u.slice(0,Q(u,c.pop().token)+1):[];return{nextEndToken:function(){for(var e,t;1==f.length&&!(e=f[0]).isWord&&(t=a(!0)).length>0;)f=R(e.chars.concat(t),n,i);return f.shift()},previousStartToken:function(){for(var e,t;1==l.length&&!(e=l[0]).isWord&&(t=a(!1)).length>0;)l=R(t.reverse().concat(e.chars),n,i);return l.pop()},dispose:function(){r.dispose(),o.dispose(),f=l=null}}}function Z(e,t,n,r){var o=e.getRangeBoundaryPosition(t,!0),i=e.getRangeBoundaryPosition(t,!1);return K(r?i:o,!!r,r?o:i,n)}function J(t,n,r,o,i){var a,s,c,u,f,l,d=g(i.direction),h=K(t,d,t.session.getRangeBoundaryPosition(o,d),i.characterOptions),p="",v=[],m=null;function y(t,n){var r=v[t].previousVisible(),o=v[n-1];return{startPos:r,endPos:o,valid:!i.wholeWordsOnly||function(t,n,r){var o=e.createRange(t.node);return o.setStartAndEnd(t.node,t.offset,n.node,n.offset),!o.expand("word",{wordOptions:r})}(r,o,i.wordOptions)}}for(;a=h.next();)if(s=a.character,r||i.caseSensitive||(s=s.toLowerCase()),d?(v.unshift(a),p=s+p):(v.push(a),p+=s),r){if(f=n.exec(p))if(u=(c=f.index)+f[0].length,l){if(!d&&u<p.length||d&&c>0){m=y(c,u);break}}else l=!0}else if(-1!=(c=p.indexOf(n))){m=y(c,c+n.length);break}return l&&(m=y(c,u)),h.dispose(),m}function ee(e){return function(){var t=!!$,n=[G()].concat(a.toArray(arguments)),r=e.apply(this,n);return t||Y(),r}}function te(e,t){return ee(function(i,a,s,c){typeof s==n&&(s=a,a=r),c=O(c,w);var u=e;t&&(u=s>=0,this.collapse(!u));var f=function(e,t,n,i,a){var s,c,u,f,l=0,d=e,h=Math.abs(n);if(0!==n){var p=n<0;switch(t){case r:for(c=K(e,p,null,i);(s=c.next())&&l<h;)++l,d=s;u=s,c.dispose();break;case o:for(var g=X(e,i,a),v=p?g.previousStartToken:g.nextEndToken;(f=v())&&l<h;)f.isWord&&(++l,d=p?f.chars[0]:f.chars[f.chars.length-1]);break;default:throw new Error("movePositionBy: unit '"+t+"' not implemented")}p?(d=d.previousVisible(),l=-l):d&&d.isLeadingSpace&&!d.isTrailingSpace&&(t==o&&(u=(c=K(e,!1,null,i)).next(),c.dispose()),u&&(d=u.previousVisible()))}return{position:d,unitsMoved:l}}(i.getRangeBoundaryPosition(this,u),a,s,c.characterOptions,c.wordOptions),l=f.position;return this[u?"setStart":"setEnd"](l.node,l.offset),f.unitsMoved})}function ne(e){return ee(function(t,n){for(var r,o=Z(t,this,n=c(n,C),!e),i=0;(r=o.next())&&d.test(r.character);)++i;o.dispose();var a=i>0;return a&&this[e?"moveStart":"moveEnd"]("character",e?i:-i,{characterOptions:n}),a})}function re(e){return ee(function(t,n){var r=!1;return this.changeEachRange(function(t){r=t[e](n)||r}),r})}s(e.rangePrototype,{moveStart:te(!0,!1),moveEnd:te(!1,!1),move:te(!0,!0),trimStart:ne(!0),trimEnd:ne(!1),trim:ee(function(e,t){var n=this.trimStart(t),r=this.trimEnd(t);return n||r}),expand:ee(function(e,t,n){var i=!1,a=(n=O(n,b)).characterOptions;if(t||(t=r),t==o){var s,c,u=n.wordOptions,f=e.getRangeBoundaryPosition(this,!0),l=e.getRangeBoundaryPosition(this,!1),d=X(f,a,u).nextEndToken(),h=d.chars[0].previousVisible();return s=this.collapsed?d:X(l,a,u).previousStartToken(),c=s.chars[s.chars.length-1],h.equals(f)||(this.setStart(h.node,h.offset),i=!0),c&&!c.equals(l)&&(this.setEnd(c.node,c.offset),i=!0),n.trim&&(n.trimStart&&(i=this.trimStart(a)||i),n.trimEnd&&(i=this.trimEnd(a)||i)),i}return this.moveEnd(r,1,n)}),text:ee(function(e,t){return this.collapsed?"":function(e,t,n){for(var r,o=[],i=Z(e,t,n);r=i.next();)o.push(r);return i.dispose(),o}(e,this,c(t,C)).join("")}),selectCharacters:ee(function(e,t,n,r,o){var i={characterOptions:o};t||(t=u(this.getDocument())),this.selectNodeContents(t),this.collapse(!0),this.moveStart("character",n,i),this.collapse(!0),this.moveEnd("character",r-n,i)}),toCharacterRange:ee(function(e,t,n){t||(t=u(this.getDocument()));var r,o=t.parentNode,a=i.getNodeIndex(t),s=-1==i.comparePoints(this.startContainer,this.endContainer,o,a),c=this.cloneRange();return s?(c.setStartAndEnd(this.startContainer,this.startOffset,o,a),r=-c.text(n).length):(c.setStartAndEnd(o,a,this.startContainer,this.startOffset),r=c.text(n).length),{start:r,end:r+this.text(n).length}}),findText:ee(function(t,n,r){(r=O(r,N)).wholeWordsOnly&&(r.wordOptions.includeTrailingSpace=!1);var o=g(r.direction),i=r.withinRange;i||(i=e.createRange()).selectNodeContents(this.getDocument());var a=n,s=!1;"string"==typeof a?r.caseSensitive||(a=a.toLowerCase()):s=!0;var c=t.getRangeBoundaryPosition(this,!o),u=i.comparePoint(c.node,c.offset);-1===u?c=t.getRangeBoundaryPosition(i,!0):1===u&&(c=t.getRangeBoundaryPosition(i,!1));for(var f,l=c,d=!1;;)if(f=J(l,a,s,i,r)){if(f.valid)return this.setStartAndEnd(f.startPos.node,f.startPos.offset,f.endPos.node,f.endPos.offset),!0;l=o?f.startPos:f.endPos}else{if(!r.wrap||d)return!1;i=i.cloneRange(),l=t.getRangeBoundaryPosition(i,!o),i.setBoundary(c.node,c.offset,o),d=!0}}),pasteHtml:function(e){if(this.deleteContents(),e){var t=this.createContextualFragment(e),n=t.lastChild;this.insertNode(t),this.collapseAfter(n)}}}),s(e.selectionPrototype,{expand:ee(function(e,t,n){this.changeEachRange(function(e){e.expand(t,n)})}),move:ee(function(e,t,n,r){var o=0;if(this.focusNode){this.collapse(this.focusNode,this.focusOffset);var i=this.getRangeAt(0);r||(r={}),r.characterOptions=c(r.characterOptions,S),o=i.move(t,n,r),this.setSingleRange(i)}return o}),trimStart:re("trimStart"),trimEnd:re("trimEnd"),trim:re("trim"),selectCharacters:ee(function(t,n,r,o,i,a){var s=e.createRange(n);s.selectCharacters(n,r,o,a),this.setSingleRange(s,i)}),saveCharacterRanges:ee(function(e,t,n){for(var r=this.getAllRanges(),o=[],i=1==r.length&&this.isBackward(),a=0,s=r.length;a<s;++a)o[a]={characterRange:r[a].toCharacterRange(t,n),backward:i,characterOptions:n};return o}),restoreCharacterRanges:ee(function(t,n,r){this.removeAllRanges();for(var o,i,a,s=0,c=r.length;s<c;++s)a=(i=r[s]).characterRange,(o=e.createRange(n)).selectCharacters(n,a.start,a.end,i.characterOptions),this.addRange(o,i.backward)}),text:ee(function(e,t){for(var n=[],r=0,o=this.rangeCount;r<o;++r)n[r]=this.getRangeAt(r).text(t);return n.join("")})}),e.innerText=function(t,n){var r=e.createRange(t);return r.selectNodeContents(t),r.text(n)},e.createWordIterator=function(e,t,n){var r=G();n=O(n,x);var o=X(r.getPosition(e,t),n.characterOptions,n.wordOptions),i=g(n.direction);return{next:function(){return i?o.previousStartToken():o.nextEndToken()},dispose:function(){o.dispose(),this.next=function(){}}}},e.noMutation=function(e){e(G()),Y()},e.noMutation.createEntryPointFunction=ee,e.textRange={isBlockNode:function(e){return e&&(1==e.nodeType&&!/^(inline(-block|-table)?|none)$/.test(P(e))||9==e.nodeType||11==e.nodeType)},isCollapsedWhitespaceNode:L,createPosition:ee(function(e,t,n){return e.getPosition(t,n)})}}),e})?r.apply(t,o):r)||(e.exports=i)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=d(n(12)),o=d(n(45)),i=d(n(8)),a=d(n(88)),s=d(n(105)),c=d(n(11)),u=d(n(26)),f=d(n(106)),l=n(107);function d(e){return e&&e.__esModule?e:{default:e}}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.browserSupport="speechSynthesis"in window&&"SpeechSynthesisUtterance"in window,this.synthesisVoice=null}return function(e,t,n){t&&p(e.prototype,t),n&&p(e,n)}(e,[{key:"init",value:function(e){var t=this;return new Promise(function(n,r){t.browserSupport||r("Your browser does not support Speech Synthesis");var o=(0,i.default)(e,"listeners",{}),c=(0,i.default)(e,"splitSentences",!0),u=(0,i.default)(e,"lang"),f=(0,i.default)(e,"volume",1),l=(0,i.default)(e,"rate",1),d=(0,i.default)(e,"pitch",1),p=(0,i.default)(e,"voice");(0,a.default)(o).forEach(function(e){var t=h(e,2),n=t[0],r=t[1];"onvoiceschanged"!==n&&(speechSynthesis[n]=function(e){r&&r(e)})}),t._loadVoices().then(function(e){o.onvoiceschanged&&o.onvoiceschanged(e),!(0,s.default)(u)&&t.setLanguage(u),!(0,s.default)(p)&&t.setVoice(p),!(0,s.default)(f)&&t.setVolume(f),!(0,s.default)(l)&&t.setRate(l),!(0,s.default)(d)&&t.setPitch(d),!(0,s.default)(c)&&t.setSplitSentences(c),n({voices:e,lang:t.lang,voice:t.voice,volume:t.volume,rate:t.rate,pitch:t.pitch,splitSentences:t.splitSentences,browserSupport:t.browserSupport})}).catch(function(){r()})})}},{key:"_fetchVoices",value:function(){return new Promise(function(e,t){setTimeout(function(){var n=speechSynthesis.getVoices();return(0,o.default)(n)>0?e(n):t()},100)})}},{key:"_loadVoices",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return this._fetchVoices().catch(function(n){if(0===t)throw n;return e._loadVoices(t-1)})}},{key:"hasBrowserSupport",value:function(){return this.browserSupport}},{key:"setVoice",value:function(e){var t,n=speechSynthesis.getVoices();if((0,u.default)(e)&&(t=n.find(function(t){return t.name===e})),(0,c.default)(e)&&(t=e),!t)throw"Error setting voice. The voice you passed is not valid or the voices have not been loaded yet.";this.synthesisVoice=t}},{key:"setLanguage",value:function(e){if(e=e.replace("_","-"),!(0,l.validateLocale)(e))throw"Error setting language. Please verify your locale is BCP47 format (http://schneegans.de/lv/?tags=es-FR&format=text)";this.lang=e}},{key:"setVolume",value:function(e){if(e=parseFloat(e),!((0,f.default)(e)&&e>=0&&e<=1))throw"Error setting volume. Please verify your volume value is a number between 0 and 1.";this.volume=e}},{key:"setRate",value:function(e){if(e=parseFloat(e),!((0,f.default)(e)&&e>=0&&e<=10))throw"Error setting rate. Please verify your volume value is a number between 0 and 10.";this.rate=e}},{key:"setPitch",value:function(e){if(e=parseFloat(e),!((0,f.default)(e)&&e>=0&&e<=2))throw"Error setting pitch. Please verify your pitch value is a number between 0 and 2.";this.pitch=e}},{key:"setSplitSentences",value:function(e){this.splitSentences=e}},{key:"speak",value:function(e){var t=this;return new Promise(function(n,i){var c=e.text,u=e.listeners,f=void 0===u?{}:u,d=e.queue,p=void 0===d||d,g=(0,r.default)(c);(0,s.default)(g)&&n(),!p&&t.cancel();var v=[],m=t.splitSentences?(0,l.splitSentences)(g):[g];m.forEach(function(e,r){var s=r===(0,o.default)(m)-1,c=new SpeechSynthesisUtterance;t.synthesisVoice&&(c.voice=t.synthesisVoice),t.lang&&(c.lang=t.lang),t.volume&&(c.volume=t.volume),t.rate&&(c.rate=t.rate),t.pitch&&(c.pitch=t.pitch),c.text=e,(0,a.default)(f).forEach(function(e){var t=h(e,2),r=t[0],o=t[1];c[r]=function(e){o&&o(e),"onerror"===r&&i({utterances:v,lastUtterance:c,error:e}),"onend"===r&&s&&n({utterances:v,lastUtterance:c})}}),v.push(c),speechSynthesis.speak(c)})})}},{key:"pending",value:function(){return speechSynthesis.pending}},{key:"paused",value:function(){return speechSynthesis.paused}},{key:"speaking",value:function(){return speechSynthesis.speaking}},{key:"pause",value:function(){speechSynthesis.pause()}},{key:"resume",value:function(){speechSynthesis.resume()}},{key:"cancel",value:function(){speechSynthesis.cancel()}}]),e}();t.default=g},function(e,t,n){e.exports=n(109)},function(e,t,n){var r,o;void 0===(o="function"==typeof(r=function(){var e="object",t="function",n="undefined",r=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],o=["setStart","setStartBefore","setStartAfter","setEnd","setEndBefore","setEndAfter","collapse","selectNode","selectNodeContents","compareBoundaryPoints","deleteContents","extractContents","cloneContents","insertNode","surroundContents","cloneRange","toString","detach"],i=["boundingHeight","boundingLeft","boundingTop","boundingWidth","htmlText","text"],a=["collapse","compareEndPoints","duplicate","moveToElementText","parentElement","select","setEndPoint","getBoundingClientRect"];function s(n,r){var o=typeof n[r];return o==t||!(o!=e||!n[r])||"unknown"==o}function c(t,n){return!(typeof t[n]!=e||!t[n])}function u(e,t){return typeof e[t]!=n}function f(e){return function(t,n){for(var r=n.length;r--;)if(!e(t,n[r]))return!1;return!0}}var l=f(s),d=f(c),h=f(u);function p(e){return e&&l(e,a)&&h(e,i)}function g(e){return c(e,"body")?e.body:e.getElementsByTagName("body")[0]}var v,m,y={},R=typeof window!=n&&typeof document!=n,C={isHostMethod:s,isHostObject:c,isHostProperty:u,areHostMethods:l,areHostObjects:d,areHostProperties:h,isTextRange:p,getBody:g,forEach:[].forEach?function(e,t){e.forEach(t)}:function(e,t){for(var n=0,r=e.length;n<r;++n)t(e[n],n)}},S={version:"1.3.0",initialized:!1,isBrowser:R,supported:!0,util:C,features:{},modules:y,config:{alertOnFail:!1,alertOnWarn:!1,preferTextRange:!1,autoInitialize:typeof rangyAutoInitialize==n||rangyAutoInitialize}};function E(e){typeof console!=n&&s(console,"log")&&console.log(e)}function N(e,t){R&&t?alert(e):E(e)}function w(e){S.initialized=!0,S.supported=!1,N("Rangy is not supported in this environment. Reason: "+e,S.config.alertOnFail)}S.fail=w,S.warn=function(e){N("Rangy warning: "+e,S.config.alertOnWarn)},{}.hasOwnProperty?(C.extend=v=function(e,t,n){var r,o;for(var i in t)t.hasOwnProperty(i)&&(r=e[i],o=t[i],n&&null!==r&&"object"==typeof r&&null!==o&&"object"==typeof o&&v(r,o,!0),e[i]=o);return t.hasOwnProperty("toString")&&(e.toString=t.toString),e},C.createOptions=function(e,t){var n={};return v(n,t),e&&v(n,e),n}):w("hasOwnProperty not supported"),R||w("Rangy can only run in a browser"),function(){var e;if(R){var t=document.createElement("div");t.appendChild(document.createElement("span"));var n=[].slice;try{1==n.call(t.childNodes,0)[0].nodeType&&(e=function(e){return n.call(e,0)})}catch(e){}}e||(e=function(e){for(var t=[],n=0,r=e.length;n<r;++n)t[n]=e[n];return t}),C.toArray=e}(),R&&(s(document,"addEventListener")?m=function(e,t,n){e.addEventListener(t,n,!1)}:s(document,"attachEvent")?m=function(e,t,n){e.attachEvent("on"+t,n)}:w("Document does not have required addEventListener or attachEvent method"),C.addListener=m);var b=[];function x(e){return e.message||e.description||String(e)}function O(){if(R&&!S.initialized){var e,t=!1,n=!1;s(document,"createRange")&&(e=document.createRange(),l(e,o)&&h(e,r)&&(t=!0));var i=g(document);if(i&&"body"==i.nodeName.toLowerCase())if(i&&s(i,"createTextRange")&&p(e=i.createTextRange())&&(n=!0),t||n){var a;for(var c in S.initialized=!0,S.features={implementsDomRange:t,implementsTextRange:n},y)(a=y[c])instanceof P&&a.init(a,S);for(var u=0,f=b.length;u<f;++u)try{b[u](S)}catch(e){E("Rangy init listener threw an exception. Continuing. Detail: "+x(e))}}else w("Neither Range nor TextRange are available");else w("No body element found")}}function _(e,t,n){n&&(e+=" in module "+n.name),S.warn("DEPRECATED: "+e+" is deprecated. Please use "+t+" instead.")}function T(e,t,n,r){e[t]=function(){return _(t,n,r),e[n].apply(e,C.toArray(arguments))}}C.deprecationNotice=_,C.createAliasForDeprecatedMethod=T,S.init=O,S.addInitListener=function(e){S.initialized?e(S):b.push(e)};var A=[];function P(e,t,n){this.name=e,this.dependencies=t,this.initialized=!1,this.supported=!1,this.initializer=n}function D(e,t,n){var r=new P(e,t,function(t){if(!t.initialized){t.initialized=!0;try{n(S,t),t.supported=!0}catch(t){var r="Module '"+e+"' failed to load: "+x(t);E(r),t.stack&&E(t.stack)}}});return y[e]=r,r}function k(){}S.addShimListener=function(e){A.push(e)},R&&(S.shim=S.createMissingNativeApi=function(e){e=e||window,O();for(var t=0,n=A.length;t<n;++t)A[t](e)},T(S,"createMissingNativeApi","shim")),P.prototype={init:function(){for(var e,t,n=this.dependencies||[],r=0,o=n.length;r<o;++r){if(t=n[r],!((e=y[t])&&e instanceof P))throw new Error("required module '"+t+"' not found");if(e.init(),!e.supported)throw new Error("required module '"+t+"' not supported")}this.initializer(this)},fail:function(e){throw this.initialized=!0,this.supported=!1,new Error(e)},warn:function(e){S.warn("Module "+this.name+": "+e)},deprecationNotice:function(e,t){S.warn("DEPRECATED: "+e+" in module "+this.name+" is deprecated. Please use "+t+" instead")},createError:function(e){return new Error("Error in Rangy "+this.name+" module: "+e)}},S.createModule=function(e){var t,n;2==arguments.length?(t=arguments[1],n=[]):(t=arguments[2],n=arguments[1]);var r=D(e,n,t);S.initialized&&S.supported&&r.init()},S.createCoreModule=function(e,t,n){D(e,t,n)},S.RangePrototype=k,S.rangePrototype=new k,S.selectionPrototype=new function(){},S.createCoreModule("DomUtil",[],function(e,t){var n="undefined",r=e.util,o=r.getBody;r.areHostMethods(document,["createDocumentFragment","createElement","createTextNode"])||t.fail("document missing a Node creation method"),r.isHostMethod(document,"getElementsByTagName")||t.fail("document missing getElementsByTagName method");var i=document.createElement("div");r.areHostMethods(i,["insertBefore","appendChild","cloneNode"]||!r.areHostObjects(i,["previousSibling","nextSibling","childNodes","parentNode"]))||t.fail("Incomplete Element implementation"),r.isHostProperty(i,"innerHTML")||t.fail("Element is missing innerHTML property");var a=document.createTextNode("test");r.areHostMethods(a,["splitText","deleteData","insertData","appendData","cloneNode"]||!r.areHostObjects(i,["previousSibling","nextSibling","childNodes","parentNode"])||!r.areHostProperties(a,["data"]))||t.fail("Incomplete Text Node implementation");var s=function(e,t){for(var n=e.length;n--;)if(e[n]===t)return!0;return!1};function c(e){for(var t=0;e=e.previousSibling;)++t;return t}function u(e,t){var n,r=[];for(n=e;n;n=n.parentNode)r.push(n);for(n=t;n;n=n.parentNode)if(s(r,n))return n;return null}function f(e,t,n){for(var r=n?t:t.parentNode;r;){if(r===e)return!0;r=r.parentNode}return!1}function l(e,t,n){for(var r,o=n?e:e.parentNode;o;){if((r=o.parentNode)===t)return o;o=r}return null}function d(e){var t=e.nodeType;return 3==t||4==t||8==t}function h(e,t){var n=t.nextSibling,r=t.parentNode;return n?r.insertBefore(e,n):r.appendChild(e),e}function p(e){if(9==e.nodeType)return e;if(typeof e.ownerDocument!=n)return e.ownerDocument;if(typeof e.document!=n)return e.document;if(e.parentNode)return p(e.parentNode);throw t.createError("getDocument: no document found for node")}function g(e){var r=p(e);if(typeof r.defaultView!=n)return r.defaultView;if(typeof r.parentWindow!=n)return r.parentWindow;throw t.createError("Cannot get a window object for node")}function v(e){if(typeof e.contentDocument!=n)return e.contentDocument;if(typeof e.contentWindow!=n)return e.contentWindow.document;throw t.createError("getIframeDocument: No Document object found for iframe element")}function m(e){return e&&r.isHostMethod(e,"setTimeout")&&r.isHostObject(e,"document")}var y,R=!1;function C(e){try{return e.parentNode,!1}catch(e){return!0}}function S(e){if(!e)return"[No node]";if(R&&C(e))return"[Broken node]";if(d(e))return'"'+e.data+'"';if(1==e.nodeType){var t=e.id?' id="'+e.id+'"':"";return"<"+e.nodeName+t+">[index:"+c(e)+",length:"+e.childNodes.length+"]["+(e.innerHTML||"[innerHTML not supported]").slice(0,25)+"]"}return e.nodeName}function E(e){this.root=e,this._next=e}function N(e,t){this.node=e,this.offset=t}function w(e){this.code=this[e],this.codeName=e,this.message="DOMException: "+this.codeName}!function(){var t=document.createElement("b");t.innerHTML="1";var n=t.firstChild;t.innerHTML="<br />",R=C(n),e.features.crashyTextNodes=R}(),typeof window.getComputedStyle!=n?y=function(e,t){return g(e).getComputedStyle(e,null)[t]}:typeof document.documentElement.currentStyle!=n?y=function(e,t){return e.currentStyle?e.currentStyle[t]:""}:t.fail("No means of obtaining computed style properties found"),E.prototype={_current:null,hasNext:function(){return!!this._next},next:function(){var e,t,n=this._current=this._next;if(this._current)if(e=n.firstChild)this._next=e;else{for(t=null;n!==this.root&&!(t=n.nextSibling);)n=n.parentNode;this._next=t}return this._current},detach:function(){this._current=this._next=this.root=null}},N.prototype={equals:function(e){return!!e&&this.node===e.node&&this.offset==e.offset},inspect:function(){return"[DomPosition("+S(this.node)+":"+this.offset+")]"},toString:function(){return this.inspect()}},w.prototype={INDEX_SIZE_ERR:1,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INVALID_STATE_ERR:11,INVALID_NODE_TYPE_ERR:24},w.prototype.toString=function(){return this.message},e.dom={arrayContains:s,isHtmlNamespace:function(e){var t;return typeof e.namespaceURI==n||null===(t=e.namespaceURI)||"http://www.w3.org/1999/xhtml"==t},parentElement:function(e){var t=e.parentNode;return 1==t.nodeType?t:null},getNodeIndex:c,getNodeLength:function(e){switch(e.nodeType){case 7:case 10:return 0;case 3:case 8:return e.length;default:return e.childNodes.length}},getCommonAncestor:u,isAncestorOf:f,isOrIsAncestorOf:function(e,t){return f(e,t,!0)},getClosestAncestorIn:l,isCharacterDataNode:d,isTextOrCommentNode:function(e){if(!e)return!1;var t=e.nodeType;return 3==t||8==t},insertAfter:h,splitDataNode:function(e,t,n){var r=e.cloneNode(!1);if(r.deleteData(0,t),e.deleteData(t,e.length-t),h(r,e),n)for(var o,i=0;o=n[i++];)o.node==e&&o.offset>t?(o.node=r,o.offset-=t):o.node==e.parentNode&&o.offset>c(e)&&++o.offset;return r},getDocument:p,getWindow:g,getIframeWindow:function(e){if(typeof e.contentWindow!=n)return e.contentWindow;if(typeof e.contentDocument!=n)return e.contentDocument.defaultView;throw t.createError("getIframeWindow: No Window object found for iframe element")},getIframeDocument:v,getBody:o,isWindow:m,getContentDocument:function(e,t,n){var o;if(e?r.isHostProperty(e,"nodeType")?o=1==e.nodeType&&"iframe"==e.tagName.toLowerCase()?v(e):p(e):m(e)&&(o=e.document):o=document,!o)throw t.createError(n+"(): Parameter must be a Window object or DOM node");return o},getRootContainer:function(e){for(var t;t=e.parentNode;)e=t;return e},comparePoints:function(e,n,r,o){var i,a,s,f,d;if(e==r)return n===o?0:n<o?-1:1;if(i=l(r,e,!0))return n<=c(i)?-1:1;if(i=l(e,r,!0))return c(i)<o?-1:1;if(!(a=u(e,r)))throw new Error("comparePoints error: nodes have no common ancestor");if(s=e===a?a:l(e,a,!0),f=r===a?a:l(r,a,!0),s===f)throw t.createError("comparePoints got to case 4 and childA and childB are the same!");for(d=a.firstChild;d;){if(d===s)return-1;if(d===f)return 1;d=d.nextSibling}},isBrokenNode:C,inspectNode:S,getComputedStyleProperty:y,createTestElement:function(e,t,n){var r=o(e),i=e.createElement("div");i.contentEditable=""+!!n,t&&(i.innerHTML=t);var a=r.firstChild;return a?r.insertBefore(i,a):r.appendChild(i),i},removeNode:function(e){return e.parentNode.removeChild(e)},fragmentFromNodeChildren:function(e){for(var t,n=p(e).createDocumentFragment();t=e.firstChild;)n.appendChild(t);return n},createIterator:function(e){return new E(e)},DomPosition:N},e.DOMException=w}),S.createCoreModule("DomRange",["DomUtil"],function(e,t){var n=e.dom,r=e.util,o=n.DomPosition,i=e.DOMException,a=n.isCharacterDataNode,s=n.getNodeIndex,c=n.isOrIsAncestorOf,u=n.getDocument,f=n.comparePoints,l=n.splitDataNode,d=n.getClosestAncestorIn,h=n.getNodeLength,p=n.arrayContains,g=n.getRootContainer,v=e.features.crashyTextNodes,m=n.removeNode;function y(e,t){return 3!=e.nodeType&&(c(e,t.startContainer)||c(e,t.endContainer))}function R(e){return e.document||u(e.startContainer)}function C(e){return new o(e.parentNode,s(e))}function S(e){return new o(e.parentNode,s(e)+1)}function E(e,t,r){var o=11==e.nodeType?e.firstChild:e;return a(t)?r==t.length?n.insertAfter(e,t):t.parentNode.insertBefore(e,0==r?t:l(t,r)):r>=t.childNodes.length?t.appendChild(e):t.insertBefore(e,t.childNodes[r]),o}function N(e,t,n){if($(e),$(t),R(t)!=R(e))throw new i("WRONG_DOCUMENT_ERR");var r=f(e.startContainer,e.startOffset,t.endContainer,t.endOffset),o=f(e.endContainer,e.endOffset,t.startContainer,t.startOffset);return n?r<=0&&o>=0:r<0&&o>0}function w(e,t,r){var o,i,a,s;for(r=r||{stop:!1};a=e.next();)if(e.isPartiallySelectedSubtree()){if(!1===t(a))return void(r.stop=!0);if(w(s=e.getSubtreeIterator(),t,r),s.detach(),r.stop)return}else for(o=n.createIterator(a);i=o.next();)if(!1===t(i))return void(r.stop=!0)}function b(e){for(var t;e.next();)e.isPartiallySelectedSubtree()?(b(t=e.getSubtreeIterator()),t.detach()):e.remove()}function x(e){for(var t,n,r=R(e.range).createDocumentFragment();t=e.next();){if(e.isPartiallySelectedSubtree()?(t=t.cloneNode(!1),n=e.getSubtreeIterator(),t.appendChild(x(n)),n.detach()):e.remove(),10==t.nodeType)throw new i("HIERARCHY_REQUEST_ERR");r.appendChild(t)}return r}function O(e){var t=void 0===e.getName?"Range":e.getName();return"["+t+"("+n.inspectNode(e.startContainer)+":"+e.startOffset+", "+n.inspectNode(e.endContainer)+":"+e.endOffset+")]"}function _(e,t){if(this.range=e,this.clonePartiallySelectedTextNodes=t,!e.collapsed){this.sc=e.startContainer,this.so=e.startOffset,this.ec=e.endContainer,this.eo=e.endOffset;var n=e.commonAncestorContainer;this.sc===this.ec&&a(this.sc)?(this.isSingleCharacterDataNode=!0,this._first=this._last=this._next=this.sc):(this._first=this._next=this.sc!==n||a(this.sc)?d(this.sc,n,!0):this.sc.childNodes[this.so],this._last=this.ec!==n||a(this.ec)?d(this.ec,n,!0):this.ec.childNodes[this.eo-1])}}_.prototype={_current:null,_next:null,_first:null,_last:null,isSingleCharacterDataNode:!1,reset:function(){this._current=null,this._next=this._first},hasNext:function(){return!!this._next},next:function(){var e=this._current=this._next;return e&&(this._next=e!==this._last?e.nextSibling:null,a(e)&&this.clonePartiallySelectedTextNodes&&(e===this.ec&&(e=e.cloneNode(!0)).deleteData(this.eo,e.length-this.eo),this._current===this.sc&&(e=e.cloneNode(!0)).deleteData(0,this.so))),e},remove:function(){var e,t,n=this._current;!a(n)||n!==this.sc&&n!==this.ec?n.parentNode&&m(n):(e=n===this.sc?this.so:0,t=n===this.ec?this.eo:n.length,e!=t&&n.deleteData(e,t-e))},isPartiallySelectedSubtree:function(){var e=this._current;return y(e,this.range)},getSubtreeIterator:function(){var e;if(this.isSingleCharacterDataNode)(e=this.range.cloneRange()).collapse(!1);else{e=new de(R(this.range));var t=this._current,n=t,r=0,o=t,i=h(t);c(t,this.sc)&&(n=this.sc,r=this.so),c(t,this.ec)&&(o=this.ec,i=this.eo),le(e,n,r,o,i)}return new _(e,this.clonePartiallySelectedTextNodes)},detach:function(){this.range=this._current=this._next=this._first=this._last=this.sc=this.so=this.ec=this.eo=null}};var T=[1,3,4,5,7,8,10],A=[2,9,11],P=[1,3,4,5,7,8,10,11],D=[1,3,4,5,7,8];function k(e){return function(t,n){for(var r,o=n?t:t.parentNode;o;){if(r=o.nodeType,p(e,r))return o;o=o.parentNode}return null}}var B=k([9,11]),I=k([5,6,10,12]),L=k([6,10,12]);function j(e,t){if(L(e,t))throw new i("INVALID_NODE_TYPE_ERR")}function M(e,t){if(!p(t,e.nodeType))throw new i("INVALID_NODE_TYPE_ERR")}function W(e,t){if(t<0||t>(a(e)?e.length:e.childNodes.length))throw new i("INDEX_SIZE_ERR")}function H(e,t){if(B(e,!0)!==B(t,!0))throw new i("WRONG_DOCUMENT_ERR")}function F(e){if(I(e,!0))throw new i("NO_MODIFICATION_ALLOWED_ERR")}function z(e,t){if(!e)throw new i(t)}function V(e,t){return t<=(a(e)?e.length:e.childNodes.length)}function U(e){return!!e.startContainer&&!!e.endContainer&&!(v&&(n.isBrokenNode(e.startContainer)||n.isBrokenNode(e.endContainer)))&&g(e.startContainer)==g(e.endContainer)&&V(e.startContainer,e.startOffset)&&V(e.endContainer,e.endOffset)}function $(e){if(!U(e))throw new Error("Range error: Range is not valid. This usually happens after DOM mutation. Range: ("+e.inspect()+")")}var q=document.createElement("style"),G=!1;try{q.innerHTML="<b>x</b>",G=3==q.firstChild.nodeType}catch(e){}e.features.htmlParsingConforms=G;var Y=G?function(e){var t=this.startContainer,r=u(t);if(!t)throw new i("INVALID_STATE_ERR");var o=null;return 1==t.nodeType?o=t:a(t)&&(o=n.parentElement(t)),(o=null===o||"HTML"==o.nodeName&&n.isHtmlNamespace(u(o).documentElement)&&n.isHtmlNamespace(o)?r.createElement("body"):o.cloneNode(!1)).innerHTML=e,n.fragmentFromNodeChildren(o)}:function(e){var t=R(this),r=t.createElement("body");return r.innerHTML=e,n.fragmentFromNodeChildren(r)};function K(e,t){$(e);var n=e.startContainer,r=e.startOffset,o=e.endContainer,i=e.endOffset,c=n===o;a(o)&&i>0&&i<o.length&&l(o,i,t),a(n)&&r>0&&r<n.length&&(n=l(n,r,t),c?(i-=r,o=n):o==n.parentNode&&i>=s(n)&&i++,r=0),e.setStartAndEnd(n,r,o,i)}function Q(e){$(e);var t=e.commonAncestorContainer.parentNode.cloneNode(!1);return t.appendChild(e.cloneContents()),t.innerHTML}var X=["startContainer","startOffset","endContainer","endOffset","collapsed","commonAncestorContainer"],Z=0,J=1,ee=2,te=3,ne=0,re=1,oe=2,ie=3;function ae(e){e.START_TO_START=Z,e.START_TO_END=J,e.END_TO_END=ee,e.END_TO_START=te,e.NODE_BEFORE=ne,e.NODE_AFTER=re,e.NODE_BEFORE_AND_AFTER=oe,e.NODE_INSIDE=ie}function se(e){ae(e),ae(e.prototype)}function ce(e,t){return function(){$(this);var n,r,o=this.startContainer,i=this.startOffset,a=this.commonAncestorContainer,s=new _(this,!0);o!==a&&(n=d(o,a,!0),r=S(n),o=r.node,i=r.offset),w(s,F),s.reset();var c=e(s);return s.detach(),t(this,o,i,o,i),c}}function ue(t,n){function o(e,t){return function(n){M(n,T),M(g(n),A);var r=(e?C:S)(n);(t?i:c)(this,r.node,r.offset)}}function i(e,t,r){var o=e.endContainer,i=e.endOffset;t===e.startContainer&&r===e.startOffset||(g(t)==g(o)&&1!=f(t,r,o,i)||(o=t,i=r),n(e,t,r,o,i))}function c(e,t,r){var o=e.startContainer,i=e.startOffset;t===e.endContainer&&r===e.endOffset||(g(t)==g(o)&&-1!=f(t,r,o,i)||(o=t,i=r),n(e,o,i,t,r))}var u=function(){};u.prototype=e.rangePrototype,t.prototype=new u,r.extend(t.prototype,{setStart:function(e,t){j(e,!0),W(e,t),i(this,e,t)},setEnd:function(e,t){j(e,!0),W(e,t),c(this,e,t)},setStartAndEnd:function(){var e=arguments,t=e[0],r=e[1],o=t,i=r;switch(e.length){case 3:i=e[2];break;case 4:o=e[2],i=e[3]}n(this,t,r,o,i)},setBoundary:function(e,t,n){this["set"+(n?"Start":"End")](e,t)},setStartBefore:o(!0,!0),setStartAfter:o(!1,!0),setEndBefore:o(!0,!1),setEndAfter:o(!1,!1),collapse:function(e){$(this),e?n(this,this.startContainer,this.startOffset,this.startContainer,this.startOffset):n(this,this.endContainer,this.endOffset,this.endContainer,this.endOffset)},selectNodeContents:function(e){j(e,!0),n(this,e,0,e,h(e))},selectNode:function(e){j(e,!1),M(e,T);var t=C(e),r=S(e);n(this,t.node,t.offset,r.node,r.offset)},extractContents:ce(x,n),deleteContents:ce(b,n),canSurroundContents:function(){$(this),F(this.startContainer),F(this.endContainer);var e=new _(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},splitBoundaries:function(){K(this)},splitBoundariesPreservingPositions:function(e){K(this,e)},normalizeBoundaries:function(){$(this);var e,t=this.startContainer,r=this.startOffset,o=this.endContainer,i=this.endOffset,c=function(e){var t=e.nextSibling;t&&t.nodeType==e.nodeType&&(o=e,i=e.length,e.appendData(t.data),m(t))},u=function(e){var n=e.previousSibling;if(n&&n.nodeType==e.nodeType){t=e;var a=e.length;if(r=n.length,e.insertData(0,n.data),m(n),t==o)i+=r,o=t;else if(o==e.parentNode){var c=s(e);i==c?(o=e,i=a):i>c&&i--}}},f=!0;if(a(o))i==o.length?c(o):0==i&&(e=o.previousSibling)&&e.nodeType==o.nodeType&&(i=e.length,t==o&&(f=!1),e.appendData(o.data),m(o),o=e);else{if(i>0){var l=o.childNodes[i-1];l&&a(l)&&c(l)}f=!this.collapsed}if(f){if(a(t))0==r?u(t):r==t.length&&(e=t.nextSibling)&&e.nodeType==t.nodeType&&(o==e&&(o=t,i+=t.length),t.appendData(e.data),m(e));else if(r<t.childNodes.length){var d=t.childNodes[r];d&&a(d)&&u(d)}}else t=o,r=i;n(this,t,r,o,i)},collapseToPoint:function(e,t){j(e,!0),W(e,t),this.setStartAndEnd(e,t)}}),se(t)}function fe(e){e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset,e.commonAncestorContainer=e.collapsed?e.startContainer:n.getCommonAncestor(e.startContainer,e.endContainer)}function le(e,t,r,o,i){e.startContainer=t,e.startOffset=r,e.endContainer=o,e.endOffset=i,e.document=n.getDocument(t),fe(e)}function de(e){this.startContainer=e,this.startOffset=0,this.endContainer=e,this.endOffset=0,this.document=e,fe(this)}r.extend(e.rangePrototype,{compareBoundaryPoints:function(e,t){var n,r,o,i;$(this),H(this.startContainer,t.startContainer);var a=e==te||e==Z?"start":"end",s=e==J||e==Z?"start":"end";return n=this[a+"Container"],r=this[a+"Offset"],o=t[s+"Container"],i=t[s+"Offset"],f(n,r,o,i)},insertNode:function(e){if($(this),M(e,P),F(this.startContainer),c(e,this.startContainer))throw new i("HIERARCHY_REQUEST_ERR");var t=E(e,this.startContainer,this.startOffset);this.setStartBefore(t)},cloneContents:function(){var e,t;if($(this),this.collapsed)return R(this).createDocumentFragment();if(this.startContainer===this.endContainer&&a(this.startContainer))return(e=this.startContainer.cloneNode(!0)).data=e.data.slice(this.startOffset,this.endOffset),(t=R(this).createDocumentFragment()).appendChild(e),t;var n=new _(this,!0);return e=function e(t){for(var n,r,o,a=R(t.range).createDocumentFragment();r=t.next();){if(n=t.isPartiallySelectedSubtree(),r=r.cloneNode(!n),n&&(o=t.getSubtreeIterator(),r.appendChild(e(o)),o.detach()),10==r.nodeType)throw new i("HIERARCHY_REQUEST_ERR");a.appendChild(r)}return a}(n),n.detach(),e},canSurroundContents:function(){$(this),F(this.startContainer),F(this.endContainer);var e=new _(this,!0),t=e._first&&y(e._first,this)||e._last&&y(e._last,this);return e.detach(),!t},surroundContents:function(e){if(M(e,D),!this.canSurroundContents())throw new i("INVALID_STATE_ERR");var t=this.extractContents();if(e.hasChildNodes())for(;e.lastChild;)e.removeChild(e.lastChild);E(e,this.startContainer,this.startOffset),e.appendChild(t),this.selectNode(e)},cloneRange:function(){$(this);for(var e,t=new de(R(this)),n=X.length;n--;)t[e=X[n]]=this[e];return t},toString:function(){$(this);var e=this.startContainer;if(e===this.endContainer&&a(e))return 3==e.nodeType||4==e.nodeType?e.data.slice(this.startOffset,this.endOffset):"";var t=[],n=new _(this,!0);return w(n,function(e){3!=e.nodeType&&4!=e.nodeType||t.push(e.data)}),n.detach(),t.join("")},compareNode:function(e){$(this);var t=e.parentNode,n=s(e);if(!t)throw new i("NOT_FOUND_ERR");var r=this.comparePoint(t,n),o=this.comparePoint(t,n+1);return r<0?o>0?oe:ne:o>0?re:ie},comparePoint:function(e,t){return $(this),z(e,"HIERARCHY_REQUEST_ERR"),H(e,this.startContainer),f(e,t,this.startContainer,this.startOffset)<0?-1:f(e,t,this.endContainer,this.endOffset)>0?1:0},createContextualFragment:Y,toHtml:function(){return Q(this)},intersectsNode:function(e,t){if($(this),g(e)!=function(e){return g(e.startContainer)}(this))return!1;var n=e.parentNode,r=s(e);if(!n)return!0;var o=f(n,r,this.endContainer,this.endOffset),i=f(n,r+1,this.startContainer,this.startOffset);return t?o<=0&&i>=0:o<0&&i>0},isPointInRange:function(e,t){return $(this),z(e,"HIERARCHY_REQUEST_ERR"),H(e,this.startContainer),f(e,t,this.startContainer,this.startOffset)>=0&&f(e,t,this.endContainer,this.endOffset)<=0},intersectsRange:function(e){return N(this,e,!1)},intersectsOrTouchesRange:function(e){return N(this,e,!0)},intersection:function(e){if(this.intersectsRange(e)){var t=f(this.startContainer,this.startOffset,e.startContainer,e.startOffset),n=f(this.endContainer,this.endOffset,e.endContainer,e.endOffset),r=this.cloneRange();return-1==t&&r.setStart(e.startContainer,e.startOffset),1==n&&r.setEnd(e.endContainer,e.endOffset),r}return null},union:function(e){if(this.intersectsOrTouchesRange(e)){var t=this.cloneRange();return-1==f(e.startContainer,e.startOffset,this.startContainer,this.startOffset)&&t.setStart(e.startContainer,e.startOffset),1==f(e.endContainer,e.endOffset,this.endContainer,this.endOffset)&&t.setEnd(e.endContainer,e.endOffset),t}throw new i("Ranges do not intersect")},containsNode:function(e,t){return t?this.intersectsNode(e,!1):this.compareNode(e)==ie},containsNodeContents:function(e){return this.comparePoint(e,0)>=0&&this.comparePoint(e,h(e))<=0},containsRange:function(e){var t=this.intersection(e);return null!==t&&e.equals(t)},containsNodeText:function(e){var t=this.cloneRange();t.selectNode(e);var n=t.getNodes([3]);if(n.length>0){t.setStart(n[0],0);var r=n.pop();return t.setEnd(r,r.length),this.containsRange(t)}return this.containsNodeContents(e)},getNodes:function(e,t){return $(this),function(e,t,n){var r,o=!(!t||!t.length),i=!!n;o&&(r=new RegExp("^("+t.join("|")+")$"));var s=[];return w(new _(e,!1),function(t){if((!o||r.test(t.nodeType))&&(!i||n(t))){var c=e.startContainer;if(t!=c||!a(c)||e.startOffset!=c.length){var u=e.endContainer;t==u&&a(u)&&0==e.endOffset||s.push(t)}}}),s}(this,e,t)},getDocument:function(){return R(this)},collapseBefore:function(e){this.setEndBefore(e),this.collapse(!1)},collapseAfter:function(e){this.setStartAfter(e),this.collapse(!0)},getBookmark:function(t){var r=R(this),o=e.createRange(r);t=t||n.getBody(r),o.selectNodeContents(t);var i=this.intersection(o),a=0,s=0;return i&&(o.setEnd(i.startContainer,i.startOffset),a=o.toString().length,s=a+i.toString().length),{start:a,end:s,containerNode:t}},moveToBookmark:function(e){var t=e.containerNode,n=0;this.setStart(t,0),this.collapse(!0);for(var r,o,i,a,s=[t],c=!1,u=!1;!u&&(r=s.pop());)if(3==r.nodeType)o=n+r.length,!c&&e.start>=n&&e.start<=o&&(this.setStart(r,e.start-n),c=!0),c&&e.end>=n&&e.end<=o&&(this.setEnd(r,e.end-n),u=!0),n=o;else for(a=r.childNodes,i=a.length;i--;)s.push(a[i])},getName:function(){return"DomRange"},equals:function(e){return de.rangesEqual(this,e)},isValid:function(){return U(this)},inspect:function(){return O(this)},detach:function(){}}),ue(de,le),r.extend(de,{rangeProperties:X,RangeIterator:_,copyComparisonConstants:se,createPrototypeRange:ue,inspect:O,toHtml:Q,getRangeDocument:R,rangesEqual:function(e,t){return e.startContainer===t.startContainer&&e.startOffset===t.startOffset&&e.endContainer===t.endContainer&&e.endOffset===t.endOffset}}),e.DomRange=de}),S.createCoreModule("WrappedRange",["DomRange"],function(e,t){var n,r,o=e.dom,i=e.util,a=o.DomPosition,s=e.DomRange,c=o.getBody,u=o.getContentDocument,f=o.isCharacterDataNode;if(e.features.implementsDomRange&&function(){var r,a,f=s.rangeProperties;function l(e){for(var t,n=f.length;n--;)t=f[n],e[t]=e.nativeRange[t];e.collapsed=e.startContainer===e.endContainer&&e.startOffset===e.endOffset}n=function(e){if(!e)throw t.createError("WrappedRange: Range must be specified");this.nativeRange=e,l(this)},s.createPrototypeRange(n,function(e,t,n,r,o){var i=e.startContainer!==t||e.startOffset!=n,a=e.endContainer!==r||e.endOffset!=o,s=!e.equals(e.nativeRange);(i||a||s)&&(e.setEnd(r,o),e.setStart(t,n))}),(r=n.prototype).selectNode=function(e){this.nativeRange.selectNode(e),l(this)},r.cloneContents=function(){return this.nativeRange.cloneContents()},r.surroundContents=function(e){this.nativeRange.surroundContents(e),l(this)},r.collapse=function(e){this.nativeRange.collapse(e),l(this)},r.cloneRange=function(){return new n(this.nativeRange.cloneRange())},r.refresh=function(){l(this)},r.toString=function(){return this.nativeRange.toString()};var d=document.createTextNode("test");c(document).appendChild(d);var h=document.createRange();h.setStart(d,0),h.setEnd(d,0);try{h.setStart(d,1),r.setStart=function(e,t){this.nativeRange.setStart(e,t),l(this)},r.setEnd=function(e,t){this.nativeRange.setEnd(e,t),l(this)},a=function(e){return function(t){this.nativeRange[e](t),l(this)}}}catch(e){r.setStart=function(e,t){try{this.nativeRange.setStart(e,t)}catch(n){this.nativeRange.setEnd(e,t),this.nativeRange.setStart(e,t)}l(this)},r.setEnd=function(e,t){try{this.nativeRange.setEnd(e,t)}catch(n){this.nativeRange.setStart(e,t),this.nativeRange.setEnd(e,t)}l(this)},a=function(e,t){return function(n){try{this.nativeRange[e](n)}catch(r){this.nativeRange[t](n),this.nativeRange[e](n)}l(this)}}}r.setStartBefore=a("setStartBefore","setEndBefore"),r.setStartAfter=a("setStartAfter","setEndAfter"),r.setEndBefore=a("setEndBefore","setStartBefore"),r.setEndAfter=a("setEndAfter","setStartAfter"),r.selectNodeContents=function(e){this.setStartAndEnd(e,0,o.getNodeLength(e))},h.selectNodeContents(d),h.setEnd(d,3);var p=document.createRange();p.selectNodeContents(d),p.setEnd(d,4),p.setStart(d,2),-1==h.compareBoundaryPoints(h.START_TO_END,p)&&1==h.compareBoundaryPoints(h.END_TO_START,p)?r.compareBoundaryPoints=function(e,t){return t=t.nativeRange||t,e==t.START_TO_END?e=t.END_TO_START:e==t.END_TO_START&&(e=t.START_TO_END),this.nativeRange.compareBoundaryPoints(e,t)}:r.compareBoundaryPoints=function(e,t){return this.nativeRange.compareBoundaryPoints(e,t.nativeRange||t)};var g=document.createElement("div");g.innerHTML="123";var v=g.firstChild,m=c(document);m.appendChild(g),h.setStart(v,1),h.setEnd(v,2),h.deleteContents(),"13"==v.data&&(r.deleteContents=function(){this.nativeRange.deleteContents(),l(this)},r.extractContents=function(){var e=this.nativeRange.extractContents();return l(this),e}),m.removeChild(g),m=null,i.isHostMethod(h,"createContextualFragment")&&(r.createContextualFragment=function(e){return this.nativeRange.createContextualFragment(e)}),c(document).removeChild(d),r.getName=function(){return"WrappedRange"},e.WrappedRange=n,e.createNativeRange=function(e){return(e=u(e,t,"createNativeRange")).createRange()}}(),e.features.implementsTextRange){var l=function(e,t,n,r,i){var s=e.duplicate();s.collapse(n);var c=s.parentElement();if(o.isOrIsAncestorOf(t,c)||(c=t),!c.canHaveHTML){var u=new a(c.parentNode,o.getNodeIndex(c));return{boundaryPosition:u,nodeInfo:{nodeIndex:u.offset,containerElement:u.node}}}var l=o.getDocument(c).createElement("span");l.parentNode&&o.removeNode(l);for(var d,h,p,g,v,m=n?"StartToStart":"StartToEnd",y=i&&i.containerElement==c?i.nodeIndex:0,R=c.childNodes.length,C=R,S=C;S==R?c.appendChild(l):c.insertBefore(l,c.childNodes[S]),s.moveToElementText(l),0!=(d=s.compareEndPoints(m,e))&&y!=C;){if(-1==d){if(C==y+1)break;y=S}else C=C==y+1?y:S;S=Math.floor((y+C)/2),c.removeChild(l)}if(v=l.nextSibling,-1==d&&v&&f(v)){var E;if(s.setEndPoint(n?"EndToStart":"EndToEnd",e),/[\r\n]/.test(v.data)){var N=s.duplicate(),w=N.text.replace(/\r\n/g,"\r").length;for(E=N.moveStart("character",w);-1==(d=N.compareEndPoints("StartToEnd",N));)E++,N.moveStart("character",1)}else E=s.text.length;g=new a(v,E)}else h=(r||!n)&&l.previousSibling,p=(r||n)&&l.nextSibling,g=p&&f(p)?new a(p,0):h&&f(h)?new a(h,h.data.length):new a(c,o.getNodeIndex(l));return o.removeNode(l),{boundaryPosition:g,nodeInfo:{nodeIndex:S,containerElement:c}}},d=function(e,t){var n,r,i,a,s=e.offset,u=o.getDocument(e.node),l=c(u).createTextRange(),d=f(e.node);return d?(n=e.node,r=n.parentNode):(a=e.node.childNodes,n=s<a.length?a[s]:null,r=e.node),(i=u.createElement("span")).innerHTML="&#feff;",n?r.insertBefore(i,n):r.appendChild(i),l.moveToElementText(i),l.collapse(!t),r.removeChild(i),d&&l[t?"moveStart":"moveEnd"]("character",s),l};(r=function(e){this.textRange=e,this.refresh()}).prototype=new s(document),r.prototype.refresh=function(){var e,t,n,r=function(e){var t=e.parentElement(),n=e.duplicate();n.collapse(!0);var r=n.parentElement();(n=e.duplicate()).collapse(!1);var i=n.parentElement(),a=r==i?r:o.getCommonAncestor(r,i);return a==t?a:o.getCommonAncestor(t,a)}(this.textRange);!function(e){return 0==e.compareEndPoints("StartToEnd",e)}(this.textRange)?(n=l(this.textRange,r,!0,!1),e=n.boundaryPosition,t=l(this.textRange,r,!1,!1,n.nodeInfo).boundaryPosition):t=e=l(this.textRange,r,!0,!0).boundaryPosition,this.setStart(e.node,e.offset),this.setEnd(t.node,t.offset)},r.prototype.getName=function(){return"WrappedTextRange"},s.copyComparisonConstants(r);var h=function(e){if(e.collapsed)return d(new a(e.startContainer,e.startOffset),!0);var t=d(new a(e.startContainer,e.startOffset),!0),n=d(new a(e.endContainer,e.endOffset),!1),r=c(s.getRangeDocument(e)).createTextRange();return r.setEndPoint("StartToStart",t),r.setEndPoint("EndToEnd",n),r};if(r.rangeToTextRange=h,r.prototype.toTextRange=function(){return h(this)},e.WrappedTextRange=r,!e.features.implementsDomRange||e.config.preferTextRange){var p=function(e){return e("return this;")()}(Function);void 0===p.Range&&(p.Range=r),e.createNativeRange=function(e){return e=u(e,t,"createNativeRange"),c(e).createTextRange()},e.WrappedRange=r}}e.createRange=function(n){return n=u(n,t,"createRange"),new e.WrappedRange(e.createNativeRange(n))},e.createRangyRange=function(e){return e=u(e,t,"createRangyRange"),new s(e)},i.createAliasForDeprecatedMethod(e,"createIframeRange","createRange"),i.createAliasForDeprecatedMethod(e,"createIframeRangyRange","createRangyRange"),e.addShimListener(function(t){var n=t.document;void 0===n.createRange&&(n.createRange=function(){return e.createRange(n)}),n=t=null})}),S.createCoreModule("WrappedSelection",["DomRange","WrappedRange"],function(e,t){e.config.checkSelectionRanges=!0;var n,r,o=e.dom,i=e.util,a=i.isHostMethod,s=e.DomRange,c=e.WrappedRange,u=e.DOMException,f=o.DomPosition,l=e.features,d=o.getDocument,h=o.getBody,p=s.rangesEqual;function g(e){return"string"==typeof e?/^backward(s)?$/i.test(e):!!e}function v(e,n){if(e){if(o.isWindow(e))return e;if(e instanceof z)return e.win;var r=o.getContentDocument(e,t,n);return o.getWindow(r)}return window}function m(e){return v(e,"getDocSelection").document.selection}function y(e){var t=!1;return e.anchorNode&&(t=1==o.comparePoints(e.anchorNode,e.anchorOffset,e.focusNode,e.focusOffset)),t}var R=a(window,"getSelection"),C=i.isHostObject(document,"selection");l.implementsWinGetSelection=R,l.implementsDocSelection=C;var S=C&&(!R||e.config.preferTextRange);if(S)n=m,e.isSelectionValid=function(e){var t=v(e,"isSelectionValid").document,n=t.selection;return"None"!=n.type||d(n.createRange().parentElement())==t};else{if(!R)return t.fail("Neither document.selection or window.getSelection() detected."),!1;n=function(e){return v(e,"getWinSelection").getSelection()},e.isSelectionValid=function(){return!0}}e.getNativeSelection=n;var E=n();if(!E)return t.fail("Native selection was null (possibly issue 138?)"),!1;var N=e.createNativeRange(document),w=h(document),b=i.areHostProperties(E,["anchorNode","focusNode","anchorOffset","focusOffset"]);l.selectionHasAnchorAndFocus=b;var x=a(E,"extend");l.selectionHasExtend=x;var O="number"==typeof E.rangeCount;l.selectionHasRangeCount=O;var _=!1,T=!0,A=x?function(t,n){var r=s.getRangeDocument(n),o=e.createRange(r);o.collapseToPoint(n.endContainer,n.endOffset),t.addRange(L(o)),t.extend(n.startContainer,n.startOffset)}:null;i.areHostMethods(E,["addRange","getRangeAt","removeAllRanges"])&&"number"==typeof E.rangeCount&&l.implementsDomRange&&function(){var t=window.getSelection();if(t){for(var n=t.rangeCount,r=n>1,i=[],a=y(t),s=0;s<n;++s)i[s]=t.getRangeAt(s);var c=o.createTestElement(document,"",!1),u=c.appendChild(document.createTextNode("   ")),f=document.createRange();if(f.setStart(u,1),f.collapse(!0),t.removeAllRanges(),t.addRange(f),T=1==t.rangeCount,t.removeAllRanges(),!r){var l=window.navigator.appVersion.match(/Chrome\/(.*?) /);if(l&&parseInt(l[1])>=36)_=!1;else{var d=f.cloneRange();f.setStart(u,0),d.setEnd(u,3),d.setStart(u,2),t.addRange(f),t.addRange(d),_=2==t.rangeCount}}for(o.removeNode(c),t.removeAllRanges(),s=0;s<n;++s)0==s&&a?A?A(t,i[s]):(e.warn("Rangy initialization: original selection was backwards but selection has been restored forwards because the browser does not support Selection.extend"),t.addRange(i[s])):t.addRange(i[s])}}(),l.selectionSupportsMultipleRanges=_,l.collapsedNonEditableSelectionsSupported=T;var P,D,k=!1;function B(e,t,n){var r=n?"end":"start",o=n?"start":"end";e.anchorNode=t[r+"Container"],e.anchorOffset=t[r+"Offset"],e.focusNode=t[o+"Container"],e.focusOffset=t[o+"Offset"]}function I(e){e.anchorNode=e.focusNode=null,e.anchorOffset=e.focusOffset=0,e.rangeCount=0,e.isCollapsed=!0,e._ranges.length=0}function L(t){var n;return t instanceof s?((n=e.createNativeRange(t.getDocument())).setEnd(t.endContainer,t.endOffset),n.setStart(t.startContainer,t.startOffset)):t instanceof c?n=t.nativeRange:l.implementsDomRange&&t instanceof o.getWindow(t.startContainer).Range&&(n=t),n}function j(e){var n=e.getNodes();if(!function(e){if(!e.length||1!=e[0].nodeType)return!1;for(var t=1,n=e.length;t<n;++t)if(!o.isAncestorOf(e[0],e[t]))return!1;return!0}(n))throw t.createError("getSingleElementFromRange: range "+e.inspect()+" did not consist of a single element");return n[0]}function M(e){return!!e&&void 0!==e.text}function W(e,t){var n=new c(t);e._ranges=[n],B(e,n,!1),e.rangeCount=1,e.isCollapsed=n.collapsed}function H(t){if(t._ranges.length=0,"None"==t.docSelection.type)I(t);else{var n=t.docSelection.createRange();if(M(n))W(t,n);else{t.rangeCount=n.length;for(var r,o=d(n.item(0)),i=0;i<t.rangeCount;++i)(r=e.createRange(o)).selectNode(n.item(i)),t._ranges.push(r);t.isCollapsed=1==t.rangeCount&&t._ranges[0].collapsed,B(t,t._ranges[t.rangeCount-1],!1)}}}function F(e,n){for(var r=e.docSelection.createRange(),o=j(n),i=d(r.item(0)),a=h(i).createControlRange(),s=0,c=r.length;s<c;++s)a.add(r.item(s));try{a.add(o)}catch(e){throw t.createError("addRange(): Element within the specified Range could not be added to control selection (does it have layout?)")}a.select(),H(e)}function z(e,t,n){this.nativeSelection=e,this.docSelection=t,this._ranges=[],this.win=n,this.refresh()}function V(e){e.win=e.anchorNode=e.focusNode=e._ranges=null,e.rangeCount=e.anchorOffset=e.focusOffset=0,e.detached=!0}w&&a(w,"createControlRange")&&(P=w.createControlRange(),i.areHostProperties(P,["item","add"])&&(k=!0)),l.implementsControlRange=k,r=b?function(e){return e.anchorNode===e.focusNode&&e.anchorOffset===e.focusOffset}:function(e){return!!e.rangeCount&&e.getRangeAt(e.rangeCount-1).collapsed},a(E,"getRangeAt")?D=function(e,t){try{return e.getRangeAt(t)}catch(e){return null}}:b&&(D=function(t){var n=d(t.anchorNode),r=e.createRange(n);return r.setStartAndEnd(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),r.collapsed!==this.isCollapsed&&r.setStartAndEnd(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset),r}),z.prototype=e.selectionPrototype;var U=[];function $(e,t){for(var n,r,o=U.length;o--;)if(n=U[o],r=n.selection,"deleteAll"==t)V(r);else if(n.win==e)return"delete"==t?(U.splice(o,1),!0):r;return"deleteAll"==t&&(U.length=0),null}var q=function(e){if(e&&e instanceof z)return e.refresh(),e;var t=$(e=v(e,"getNativeSelection")),r=n(e),o=C?m(e):null;return t?(t.nativeSelection=r,t.docSelection=o,t.refresh()):(t=new z(r,o,e),U.push({win:e,selection:t})),t};e.getSelection=q,i.createAliasForDeprecatedMethod(e,"getIframeSelection","getSelection");var G,Y=z.prototype;function K(e,n){for(var r,o=d(n[0].startContainer),i=h(o).createControlRange(),a=0,s=n.length;a<s;++a){r=j(n[a]);try{i.add(r)}catch(e){throw t.createError("setRanges(): Element within one of the specified Ranges could not be added to control selection (does it have layout?)")}}i.select(),H(e)}if(!S&&b&&i.areHostMethods(E,["removeAllRanges","addRange"])){Y.removeAllRanges=function(){this.nativeSelection.removeAllRanges(),I(this)};var Q=function(e,t){A(e.nativeSelection,t),e.refresh()};Y.addRange=O?function(t,n){if(k&&C&&"Control"==this.docSelection.type)F(this,t);else if(g(n)&&x)Q(this,t);else{var o;_?o=this.rangeCount:(this.removeAllRanges(),o=0);var i=L(t).cloneRange();try{this.nativeSelection.addRange(i)}catch(e){}if(this.rangeCount=this.nativeSelection.rangeCount,this.rangeCount==o+1){if(e.config.checkSelectionRanges){var a=D(this.nativeSelection,this.rangeCount-1);a&&!p(a,t)&&(t=new c(a))}this._ranges[this.rangeCount-1]=t,B(this,t,X(this.nativeSelection)),this.isCollapsed=r(this)}else this.refresh()}}:function(e,t){g(t)&&x?Q(this,e):(this.nativeSelection.addRange(L(e)),this.refresh())},Y.setRanges=function(e){if(k&&C&&e.length>1)K(this,e);else{this.removeAllRanges();for(var t=0,n=e.length;t<n;++t)this.addRange(e[t])}}}else{if(!(a(E,"empty")&&a(N,"select")&&k&&S))return t.fail("No means of selecting a Range or TextRange was found"),!1;Y.removeAllRanges=function(){try{if(this.docSelection.empty(),"None"!=this.docSelection.type){var e;if(this.anchorNode)e=d(this.anchorNode);else if("Control"==this.docSelection.type){var t=this.docSelection.createRange();t.length&&(e=d(t.item(0)))}if(e){var n=h(e).createTextRange();n.select(),this.docSelection.empty()}}}catch(e){}I(this)},Y.addRange=function(t){"Control"==this.docSelection.type?F(this,t):(e.WrappedTextRange.rangeToTextRange(t).select(),this._ranges[0]=t,this.rangeCount=1,this.isCollapsed=this._ranges[0].collapsed,B(this,t,!1))},Y.setRanges=function(e){this.removeAllRanges();var t=e.length;t>1?K(this,e):t&&this.addRange(e[0])}}if(Y.getRangeAt=function(e){if(e<0||e>=this.rangeCount)throw new u("INDEX_SIZE_ERR");return this._ranges[e].cloneRange()},S)G=function(t){var n;e.isSelectionValid(t.win)?n=t.docSelection.createRange():(n=h(t.win.document).createTextRange()).collapse(!0),"Control"==t.docSelection.type?H(t):M(n)?W(t,n):I(t)};else if(a(E,"getRangeAt")&&"number"==typeof E.rangeCount)G=function(t){if(k&&C&&"Control"==t.docSelection.type)H(t);else if(t._ranges.length=t.rangeCount=t.nativeSelection.rangeCount,t.rangeCount){for(var n=0,o=t.rangeCount;n<o;++n)t._ranges[n]=new e.WrappedRange(t.nativeSelection.getRangeAt(n));B(t,t._ranges[t.rangeCount-1],X(t.nativeSelection)),t.isCollapsed=r(t)}else I(t)};else{if(!b||"boolean"!=typeof E.isCollapsed||"boolean"!=typeof N.collapsed||!l.implementsDomRange)return t.fail("No means of obtaining a Range or TextRange from the user's selection was found"),!1;G=function(e){var t,n=e.nativeSelection;n.anchorNode?(t=D(n,0),e._ranges=[t],e.rangeCount=1,function(e){var t=e.nativeSelection;e.anchorNode=t.anchorNode,e.anchorOffset=t.anchorOffset,e.focusNode=t.focusNode,e.focusOffset=t.focusOffset}(e),e.isCollapsed=r(e)):I(e)}}Y.refresh=function(e){var t=e?this._ranges.slice(0):null,n=this.anchorNode,r=this.anchorOffset;if(G(this),e){var o=t.length;if(o!=this._ranges.length)return!0;if(this.anchorNode!=n||this.anchorOffset!=r)return!0;for(;o--;)if(!p(t[o],this._ranges[o]))return!0;return!1}};var X,Z=function(e,t){var n=e.getAllRanges();e.removeAllRanges();for(var r=0,o=n.length;r<o;++r)p(t,n[r])||e.addRange(n[r]);e.rangeCount||I(e)};function J(e,t){if(e.win.document!=d(t))throw new u("WRONG_DOCUMENT_ERR")}function ee(t){return function(n,r){var o;this.rangeCount?(o=this.getRangeAt(0))["set"+(t?"Start":"End")](n,r):(o=e.createRange(this.win.document)).setStartAndEnd(n,r),this.setSingleRange(o,this.isBackward())}}function te(e){var t=[],n=new f(e.anchorNode,e.anchorOffset),r=new f(e.focusNode,e.focusOffset),o="function"==typeof e.getName?e.getName():"Selection";if(void 0!==e.rangeCount)for(var i=0,a=e.rangeCount;i<a;++i)t[i]=s.inspect(e.getRangeAt(i));return"["+o+"(Ranges: "+t.join(", ")+")(anchor: "+n.inspect()+", focus: "+r.inspect()+"]"}Y.removeRange=k&&C?function(e){if("Control"==this.docSelection.type){for(var t=this.docSelection.createRange(),n=j(e),r=d(t.item(0)),o=h(r).createControlRange(),i=!1,a=0,s=t.length;a<s;++a)t.item(a)!==n||i?o.add(t.item(a)):i=!0;o.select(),H(this)}else Z(this,e)}:function(e){Z(this,e)},!S&&b&&l.implementsDomRange?(X=y,Y.isBackward=function(){return X(this)}):X=Y.isBackward=function(){return!1},Y.isBackwards=Y.isBackward,Y.toString=function(){for(var e=[],t=0,n=this.rangeCount;t<n;++t)e[t]=""+this._ranges[t];return e.join("")},Y.collapse=function(t,n){J(this,t);var r=e.createRange(t);r.collapseToPoint(t,n),this.setSingleRange(r),this.isCollapsed=!0},Y.collapseToStart=function(){if(!this.rangeCount)throw new u("INVALID_STATE_ERR");var e=this._ranges[0];this.collapse(e.startContainer,e.startOffset)},Y.collapseToEnd=function(){if(!this.rangeCount)throw new u("INVALID_STATE_ERR");var e=this._ranges[this.rangeCount-1];this.collapse(e.endContainer,e.endOffset)},Y.selectAllChildren=function(t){J(this,t);var n=e.createRange(t);n.selectNodeContents(t),this.setSingleRange(n)},Y.deleteFromDocument=function(){if(k&&C&&"Control"==this.docSelection.type){for(var e,t=this.docSelection.createRange();t.length;)e=t.item(0),t.remove(e),o.removeNode(e);this.refresh()}else if(this.rangeCount){var n=this.getAllRanges();if(n.length){this.removeAllRanges();for(var r=0,i=n.length;r<i;++r)n[r].deleteContents();this.addRange(n[i-1])}}},Y.eachRange=function(e,t){for(var n=0,r=this._ranges.length;n<r;++n)if(e(this.getRangeAt(n)))return t},Y.getAllRanges=function(){var e=[];return this.eachRange(function(t){e.push(t)}),e},Y.setSingleRange=function(e,t){this.removeAllRanges(),this.addRange(e,t)},Y.callMethodOnEachRange=function(e,t){var n=[];return this.eachRange(function(r){n.push(r[e].apply(r,t||[]))}),n},Y.setStart=ee(!0),Y.setEnd=ee(!1),e.rangePrototype.select=function(e){q(this.getDocument()).setSingleRange(this,e)},Y.changeEachRange=function(e){var t=[],n=this.isBackward();this.eachRange(function(n){e(n),t.push(n)}),this.removeAllRanges(),n&&1==t.length?this.addRange(t[0],"backward"):this.setRanges(t)},Y.containsNode=function(e,t){return this.eachRange(function(n){return n.containsNode(e,t)},!0)||!1},Y.getBookmark=function(e){return{backward:this.isBackward(),rangeBookmarks:this.callMethodOnEachRange("getBookmark",[e])}},Y.moveToBookmark=function(t){for(var n,r,o=[],i=0;n=t.rangeBookmarks[i++];)(r=e.createRange(this.win)).moveToBookmark(n),o.push(r);t.backward?this.setSingleRange(o[0],"backward"):this.setRanges(o)},Y.saveRanges=function(){return{backward:this.isBackward(),ranges:this.callMethodOnEachRange("cloneRange")}},Y.restoreRanges=function(e){this.removeAllRanges();for(var t,n=0;t=e.ranges[n];++n)this.addRange(t,e.backward&&0==n)},Y.toHtml=function(){var e=[];return this.eachRange(function(t){e.push(s.toHtml(t))}),e.join("")},l.implementsTextRange&&(Y.getNativeTextRange=function(){var n;if(n=this.docSelection){var r=n.createRange();if(M(r))return r;throw t.createError("getNativeTextRange: selection is a control selection")}if(this.rangeCount>0)return e.WrappedTextRange.rangeToTextRange(this.getRangeAt(0));throw t.createError("getNativeTextRange: selection contains no range")}),Y.getName=function(){return"WrappedSelection"},Y.inspect=function(){return te(this)},Y.detach=function(){$(this.win,"delete"),V(this)},z.detachAll=function(){$(null,"deleteAll")},z.inspect=te,z.isDirectionBackward=g,e.Selection=z,e.selectionPrototype=Y,e.addShimListener(function(e){void 0===e.getSelection&&(e.getSelection=function(){return q(e)}),e=null})});var B=!1,I=function(e){B||(B=!0,!S.initialized&&S.config.autoInitialize&&O())};return R&&("complete"==document.readyState?I():(s(document,"addEventListener")&&document.addEventListener("DOMContentLoaded",I,!1),m(window,"load",I))),S})?r.call(t,n,t,e):r)||(e.exports=o)},function(e,t){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(9),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var o=a.call(e);return r&&(t?e[s]=n:delete e[s]),o}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var r=n(36);e.exports=function(e,t,n){var o=e.length;return n=void 0===n?o:n,!t&&n>=o?e:r(e,t,n)}},function(e,t){e.exports=function(e,t,n){var r=-1,o=e.length;t<0&&(t=-t>o?0:o+t),(n=n>o?o:n)<0&&(n+=o),o=t>n?0:n-t>>>0,t>>>=0;for(var i=Array(o);++r<o;)i[r]=e[r+t];return i}},function(e,t,n){var r=n(16);e.exports=function(e,t){for(var n=e.length;n--&&r(t,e[n],0)>-1;);return n}},function(e,t){e.exports=function(e,t,n,r){for(var o=e.length,i=n+(r?1:-1);r?i--:++i<o;)if(t(e[i],i,e))return i;return-1}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,o=e.length;++r<o;)if(e[r]===t)return r;return-1}},function(e,t,n){var r=n(16);e.exports=function(e,t){for(var n=-1,o=e.length;++n<o&&r(t,e[n],0)>-1;);return n}},function(e,t,n){var r=n(43),o=n(17),i=n(44);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t){e.exports=function(e){return e.split("")}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),f="(?:"+[i+r+"?",r,a,s,n].join("|")+")",l=RegExp(o+"(?="+o+")|"+f+u,"g");e.exports=function(e){return e.match(l)||[]}},function(e,t,n){var r=n(19),o=n(20),i=n(24),a=n(26),s=n(57),c="[object Map]",u="[object Set]";e.exports=function(e){if(null==e)return 0;if(i(e))return a(e)?s(e):e.length;var t=o(e);return t==c||t==u?e.size:r(e).length}},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var r=n(48)(Object.keys,Object);e.exports=r},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t,n){var r=n(2)(n(0),"DataView");e.exports=r},function(e,t,n){var r=n(21),o=n(51),i=n(11),a=n(22),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,f=c.toString,l=u.hasOwnProperty,d=RegExp("^"+f.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(r(e)?d:s).test(a(e))}},function(e,t,n){var r=n(52),o=function(){var e=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();e.exports=function(e){return!!o&&o in e}},function(e,t,n){var r=n(0)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var r=n(2)(n(0),"Promise");e.exports=r},function(e,t,n){var r=n(2)(n(0),"Set");e.exports=r},function(e,t,n){var r=n(2)(n(0),"WeakMap");e.exports=r},function(e,t,n){var r=n(58),o=n(17),i=n(60);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t,n){var r=n(59)("length");e.exports=r},function(e,t){e.exports=function(e){return function(t){return null==t?void 0:t[e]}}},function(e,t){var n="[\\ud800-\\udfff]",r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",o="\\ud83c[\\udffb-\\udfff]",i="[^\\ud800-\\udfff]",a="(?:\\ud83c[\\udde6-\\uddff]){2}",s="[\\ud800-\\udbff][\\udc00-\\udfff]",c="(?:"+r+"|"+o+")"+"?",u="[\\ufe0e\\ufe0f]?"+c+("(?:\\u200d(?:"+[i,a,s].join("|")+")[\\ufe0e\\ufe0f]?"+c+")*"),f="(?:"+[i+r+"?",r,a,s,n].join("|")+")",l=RegExp(o+"(?="+o+")|"+f+u,"g");e.exports=function(e){for(var t=l.lastIndex=0;l.test(e);)++t;return t}},function(e,t,n){var r=n(62),o=n(87);e.exports=function(e,t){for(var n=0,i=(t=r(t,e)).length;null!=e&&n<i;)e=e[o(t[n++])];return n&&n==i?e:void 0}},function(e,t,n){var r=n(3),o=n(63),i=n(64),a=n(18);e.exports=function(e,t){return r(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,n){var r=n(3),o=n(10),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(r(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||a.test(e)||!i.test(e)||null!=t&&e in Object(t)}},function(e,t,n){var r=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,i=n(65)(function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(r,function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)}),t});e.exports=i},function(e,t,n){var r=n(66),o=500;e.exports=function(e){var t=r(e,function(e){return n.size===o&&n.clear(),e}),n=t.cache;return t}},function(e,t,n){var r=n(67),o="Expected a function";function i(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=e.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(i.Cache||r),n}i.Cache=r,e.exports=i},function(e,t,n){var r=n(68),o=n(82),i=n(84),a=n(85),s=n(86);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(69),o=n(75),i=n(23);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(e,t,n){var r=n(70),o=n(71),i=n(72),a=n(73),s=n(74);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,n){var r=n(5);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(5),o="__lodash_hash_undefined__",i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===o?void 0:n}return i.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(5),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:o.call(t,e)}},function(e,t,n){var r=n(5),o="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?o:t,this}},function(e,t,n){var r=n(76),o=n(77),i=n(79),a=n(80),s=n(81);function c(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(6),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():o.call(t,n,1),--this.size,0))}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(6);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(6);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(6);e.exports=function(e,t){var n=this.__data__,o=r(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}},function(e,t,n){var r=n(7);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(7);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(7);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(7);e.exports=function(e,t){var n=r(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}},function(e,t,n){var r=n(10),o=1/0;e.exports=function(e){if("string"==typeof e||r(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}},function(e,t,n){var r=n(89)(n(93));e.exports=r},function(e,t,n){var r=n(90),o=n(20),i=n(91),a=n(92),s="[object Map]",c="[object Set]";e.exports=function(e){return function(t){var n=o(t);return n==s?i(t):n==c?a(t):r(t,e(t))}}},function(e,t,n){var r=n(15);e.exports=function(e,t){return r(t,function(t){return[t,e[t]]})}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,r){n[++t]=[r,e]}),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=[e,e]}),n}},function(e,t,n){var r=n(94),o=n(19),i=n(24);e.exports=function(e){return i(e)?r(e):o(e)}},function(e,t,n){var r=n(95),o=n(96),i=n(3),a=n(98),s=n(100),c=n(101),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=i(e),f=!n&&o(e),l=!n&&!f&&a(e),d=!n&&!f&&!l&&c(e),h=n||f||l||d,p=h?r(e.length,String):[],g=p.length;for(var v in e)!t&&!u.call(e,v)||h&&("length"==v||l&&("offset"==v||"parent"==v)||d&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||p.push(v);return p}},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t,n){var r=n(97),o=n(4),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=r(function(){return arguments}())?r:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,n){var r=n(1),o=n(4),i="[object Arguments]";e.exports=function(e){return o(e)&&r(e)==i}},function(e,t,n){(function(e){var r=n(0),o=n(99),i="object"==typeof t&&t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?r.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c}).call(this,n(27)(e))},function(e,t){e.exports=function(){return!1}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var o=typeof e;return!!(t=null==t?n:t)&&("number"==o||"symbol"!=o&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,n){var r=n(102),o=n(103),i=n(104),a=i&&i.isTypedArray,s=a?o(a):r;e.exports=s},function(e,t,n){var r=n(1),o=n(25),i=n(4),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[r(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){(function(e){var r=n(14),o="object"==typeof t&&t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&r.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,n(27)(e))},function(e,t){e.exports=function(e){return null==e}},function(e,t,n){var r=n(0).isFinite;e.exports=function(e){return"number"==typeof e&&r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateLocale=t.splitSentences=void 0;var r=i(n(12)),o=i(n(108));function i(e){return e&&e.__esModule?e:{default:e}}t.splitSentences=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(0,o.default)(e.replace(/\.+/g,".|").replace(/\?/g,"?|").replace(/\!/g,"!|").split("|").map(function(e){return(0,r.default)(e)}))};var a=/^(?:(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))$|^((?:[a-z]{2,3}(?:(?:-[a-z]{3}){1,3})?)|[a-z]{4}|[a-z]{5,8})(?:-([a-z]{4}))?(?:-([a-z]{2}|\d{3}))?((?:-(?:[\da-z]{5,8}|\d[\da-z]{3}))*)?((?:-[\da-wy-z](?:-[\da-z]{2,8})+)*)?(-x(?:-[\da-z]{1,8})+)?$|^(x(?:-[\da-z]{1,8})+)$/i;t.validateLocale=function(e){return"string"==typeof e&&a.test(e)}},function(e,t){e.exports=function(e){for(var t=-1,n=null==e?0:e.length,r=0,o=[];++t<n;){var i=e[t];i&&(o[r++]=i)}return o}},function(e,t,n){"use strict";n.r(t);var r=n(28),o=n.n(r),i=n(29),a=n.n(i),s=n(8),c=n.n(s);function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return!t||"object"!==u(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e,t,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var o=Object.getOwnPropertyDescriptor(r,t);return o.get?o.get.call(n):o.value}})(e,t,n||e)}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var v=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=d(this,p(t).call(this,e))).wordwrap=null,n.autospeak=null,n.touchMode=null,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}(t,a.a),function(e,t,n){t&&l(e.prototype,t),n&&l(e,n)}(t,[{key:"init",value:function(e){var n=this;return new Promise(function(r,o){h(p(t.prototype),"init",n).call(n,e).then(function(t){n.wordwrap=c()(e,"wordwrap",!0),n.autospeak=c()(e,"autospeak",!0),window.addEventListener("mousedown",function(){n.touchMode=!1}),window.addEventListener("touchstart",function(){n.touchMode=!0}),window.addEventListener("mouseup",function(e){!n.touchMode&&n.autospeak&&(n.speakSelectedText(e),e.preventDefault())}),window.addEventListener("touchend",function(e){n.touchMode&&n.autospeak&&(n.speakSelectedText(e),e.preventDefault())}),r(t)}).catch(function(e){return o(e)})})}},{key:"setWordwrap",value:function(e){this.wordwrap=e}},{key:"setAutospeak",value:function(e){this.autospeak=e}},{key:"speakSelectedText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.getSelectedText();return this.speak(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){f(e,t,n[t])})}return e}({text:t,queue:!1},e))}},{key:"getSelectedText",value:function(){var e=o.a.getSelection();return this.wordwrap&&e.toString()&&e.expand("word"),e.toString()}}]),t}(),m=function(e){var t=window.document.createElement("div"),n='<h2>Available Voices</h2><select id="languages"><option value="">autodetect language</option>';e.forEach(function(e){n+='<option value="'.concat(e.lang,'" data-name="').concat(e.name,'">').concat(e.name," (").concat(e.lang,")</option>")}),t.innerHTML=n,window.document.body.appendChild(t)};!function(){var e=new v;e.init({wordwrap:!1,autospeak:!1}).then(function(t){m(t.voices),function(e){var t=document.getElementById("play"),n=document.getElementById("pause"),r=document.getElementById("resume"),o=document.getElementById("autospeak"),i=document.getElementById("wordwrap");t.addEventListener("click",function(){var t=languages.value,n=languages.options[languages.selectedIndex].dataset.name;t&&e.setLanguage(languages.value),n&&e.setVoice(n),e.speakSelectedText().then(function(e){console.log("Success !",e)}).catch(function(e){console.error("An error occurred :",e)})}),n.addEventListener("click",function(){e.pause()}),r.addEventListener("click",function(){e.resume()}),o.addEventListener("click",function(){e.setAutospeak(o.checked)}),i.addEventListener("click",function(){e.setWordwrap(i.checked)})}(e)}).catch(function(e){console.error("An error occured while initializing : ",e)});var t=e.hasBrowserSupport()?"Hurray, your browser supports speech synthesis":"Your browser does NOT support speech synthesis. Try using Chrome of Safari instead !";document.getElementById("support").innerHTML=t}()}]);